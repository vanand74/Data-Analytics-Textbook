
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Descriptive Statistics &#8212; Data Analytics for Accountants</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Unit 4/4-02 Descriptive Statistics';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Pivot Tables in Pandas" href="4-03%20Pivot%20Tables%20in%20Pandas.html" />
    <link rel="prev" title="Overview of Analyzing Data" href="4-01%20Overview%20of%20Data%20Anaysis.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/Book logo.png" class="logo__image only-light" alt="Data Analytics for Accountants - Home"/>
    <script>document.write(`<img src="../_static/Book logo.png" class="logo__image only-dark" alt="Data Analytics for Accountants - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Introduction and Welcome
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Unit 1: Introduction to Python and Programming</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Unit%201/1-1%20Intro%20to%20Programming.html">Introduction to Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%201/1-2%20Control%20Flow.html">Control Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%201/1-3%20Variables.html">Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%201/1-4%20Data%20Types.html">Data Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%201/1-5%20Operators.html">Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%201/1-6%20The%20Print%20Function.html">The Print Function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%201/1-7%20Collections.html">Collections: Lists, Dictionaries, and Tuples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%201/1-8%20Functions.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%201/1-9%20Working%20with%20Strings.html">Working with Strings</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Unit 2: Data Visualization</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Unit%202/2-01%20Intro%20to%20Visualization.html">Introduction to Visualizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%202/2-02%20Intro%20to%20Python%27s%20Bokeh%20library.html">Creating Visualizations with Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%202/2-03%20Intro%20to%20Tableau.html">Creating Visualizations with Tableau</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%202/2-04%20Bar%20charts.html">Bar Charts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%202/2-05%20Histograms.html">Histograms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%202/2-06%20Box%20plots.html">Box Plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%202/2-07%20Scatter%20plots.html">Scatter Plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%202/2-08%20Line%20charts.html">Line Charts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%202/2-09%20Pie%20charts.html">Pie Charts (yum!)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%202/2-10%20Heat%20maps.html">Heat Maps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%202/2-11%20Location-based%20maps.html">Location-based Maps</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Unit 3: Working with Data</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Unit%203/3-01%20Overview%20of%20Working%20with%20Data.html">Overview of Working with Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%203/3-02%20Working%20with%20files%20and%20folders%20on%20your%20computer.html">Working with Files and Folders on Your Computer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%203/3-03%20CSV%20files.html">CSV Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%203/3-04%20Overview%20of%20Pandas.html">Overview of Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%203/3-05%20Viewing%20a%20DataFrame.html">Viewing a DataFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%203/3-06%20Anatomy%20of%20a%20DataFrame.html">Anatomy of a DataFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%203/3-07%20Loading%20Data%20Into%20Pandas.html">Loading Data Into Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%203/3-08%20Selecting%20and%20Filtering%20Data.html">Selecting and Filtering Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%203/3-09%20Creating%20New%20Columns.html">Creating New Columns</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%203/3-10%20Sorting%20Data.html">Sorting Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%203/3-11%20Modifying%20Data.html">Modifying Data</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Unit 4: Analyzing Data</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="4-01%20Overview%20of%20Data%20Anaysis.html">Overview of Analyzing Data</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Descriptive Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="4-03%20Pivot%20Tables%20in%20Pandas.html">Pivot Tables in Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="4-04%20Regression.html">Regression</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/vanand74/Data-Analytics-Textbook" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/vanand74/Data-Analytics-Textbook/issues/new?title=Issue%20on%20page%20%2FUnit 4/4-02 Descriptive Statistics.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/Unit 4/4-02 Descriptive Statistics.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Descriptive Statistics</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#learning-objectives">Learning Objectives</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview-of-descriptive-statistics">Overview of Descriptive Statistics</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#imports-and-loading-the-data">Imports and Loading the Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#city-of-chicago-salary-data">City of Chicago Salary Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#compustat-data">Compustat Data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mean">Mean</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#computing-the-mean-mathematically">Computing the Mean Mathematically</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#computing-the-mean-using-pandas">Computing the Mean Using Pandas</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#median">Median</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#computing-the-median-using-pandas">Computing the Median Using Pandas</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#standard-deviation">Standard Deviation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#computing-the-standard-deviation-mathematically">Computing the Standard Deviation Mathematically</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#computing-the-standard-deviation-using-pandas">Computing the Standard Deviation Using Pandas</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#correlation">Correlation</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="descriptive-statistics">
<h1>Descriptive Statistics<a class="headerlink" href="#descriptive-statistics" title="Link to this heading">#</a></h1>
<section id="learning-objectives">
<h2>Learning Objectives<a class="headerlink" href="#learning-objectives" title="Link to this heading">#</a></h2>
<div style="border: 1px solid black; padding: 10px; background-color: #EDEDED;">
    <ul>
        <li>Define the term descriptive statistics and explain why they are useful.</li>
        <li>Mean:
            <ul>
                <li>Define the mean of a variable and be able to compute it by hand.</li>
                <li>Interpret the mean as a measure of centrality of a variable's distribution</li>
            </ul>
        </li>
        <li>Median:
            <ul>
                <li>Define the median of a variable and be able to compute it by hand.</li>
                <li>Interpret the mean as a measure of centrality of a variable's distribution</li>
                <li>Explain when a median may be more appropriate than a mean.</li>
            </ul>
        </li>
        <li>Standard deviation:
            <ul>
                <li>Define the standard deviation of a variable.</li>
                <li>Interpret the standard deviation as a measure of the spread in a variable's distribution.</li>
            </ul>
        </li>
        <li>Correlation:
            <ul>
                <li>Define, in qualitative terms, the correlation between two variables.</li>
                <li>Explain the difference between positive and negative correlation.</li>
                <li>State the range of possible correlation values.</li>
                <li>Interpret a correlation matrix.</li>
            </ul>
        </li>
    </ul>
</div></section>
<section id="overview-of-descriptive-statistics">
<h2>Overview of Descriptive Statistics<a class="headerlink" href="#overview-of-descriptive-statistics" title="Link to this heading">#</a></h2>
<p>In previous units, we showed you how to <em>prepare</em> your data for analysis. You loaded, cleaned, filtered, and manipulated data. Now it’s time to start analyzing it.</p>
<p>The first step in data analysis is usually plotting (graphical exploration). Plots are incredibly useful because they communicate considerable information about the data. However, you often want to <em>summarize</em> what you see in the plots. You might want some summary measures that you can use in a computation. Or you might want to provide some numbers that tell you something about your plot. This is where descriptive statistics come in.</p>
<p>Descriptive statistics are <em>statistics</em>. That is, they are computed from your data and the measures have statistical properties. But more importantly, they <em>describe</em> your data.</p>
<p>In this chapter, we will learn about four commonly-used descriptive statistics, mean, median, standard deviation, and correlation. You have likely seen these before in statistics classes. In this class, we will focus on the uses and interpretation of the measures. As you will see, Pandas computes these measures very quickly and that will allow us to focus on interpretation.</p>
</section>
<section id="imports-and-loading-the-data">
<h2>Imports and Loading the Data<a class="headerlink" href="#imports-and-loading-the-data" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
<p>We will work with two datasets in this chapter.</p>
<ul class="simple">
<li><p>Salary data for employees of the City of Chicago (<a class="reference external" href="https://data.cityofchicago.org/Administration-Finance/Current-Employee-Names-Salaries-and-Position-Title/xzkq-xp2w">link</a>).</p></li>
<li><p>Selected income statement data from Compustat.</p></li>
</ul>
<section id="city-of-chicago-salary-data">
<h3>City of Chicago Salary Data<a class="headerlink" href="#city-of-chicago-salary-data" title="Link to this heading">#</a></h3>
<p>The cell below loads salary data for employees of the City of Chicago. Each row represents one employee in the previous fiscal year. Here is a list of the columns and their meanings:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-center"><p>Column</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>Name</p></td>
<td><p>Name of employee</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Job Titles</p></td>
<td><p>Title of employee at the time when the data was updated.</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Department</p></td>
<td><p>Department where employee worked.</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Full or Part-Time</p></td>
<td><p>Whether the employee was employed full- (F) or part-time (P).</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Salary or Hourly</p></td>
<td><p>Defines whether an employee is paid on an hourly basis or salary basis.</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>Typical Hours</p></td>
<td><p>Typical amount of work for hourly employees. This data does not apply to salary employees</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>Annual Salary</p></td>
<td><p>Annual salary rates. Only applies for employees whose pay frequency is “Salary”.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfSalary</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;data/Chicago_Payroll_Data.xlsx&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s1">&#39;Data&#39;</span><span class="p">)</span>
<span class="n">dfSalary</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Name</th>
      <th>Job Titles</th>
      <th>Department</th>
      <th>Full or Part-Time</th>
      <th>Salary or Hourly</th>
      <th>Typical Hours</th>
      <th>Annual Salary</th>
      <th>Hourly Rate</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>AARON,  JEFFERY M</td>
      <td>SERGEANT</td>
      <td>POLICE</td>
      <td>F</td>
      <td>Salary</td>
      <td>NaN</td>
      <td>101442.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>AARON,  KARINA</td>
      <td>POLICE OFFICER (ASSIGNED AS DETECTIVE)</td>
      <td>POLICE</td>
      <td>F</td>
      <td>Salary</td>
      <td>NaN</td>
      <td>94122.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>AARON,  KIMBERLEI R</td>
      <td>CHIEF CONTRACT EXPEDITER</td>
      <td>GENERAL SERVICES</td>
      <td>F</td>
      <td>Salary</td>
      <td>NaN</td>
      <td>111024.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ABAD JR,  VICENTE M</td>
      <td>CIVIL ENGINEER IV</td>
      <td>WATER MGMNT</td>
      <td>F</td>
      <td>Salary</td>
      <td>NaN</td>
      <td>114780.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ABARCA,  EMMANUEL</td>
      <td>CONCRETE LABORER</td>
      <td>TRANSPORTN</td>
      <td>F</td>
      <td>Hourly</td>
      <td>40.0</td>
      <td>NaN</td>
      <td>43.72</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="compustat-data">
<h3>Compustat Data<a class="headerlink" href="#compustat-data" title="Link to this heading">#</a></h3>
<p>The cell below loads some data from the Compustat database. Compustat contains all 10-K data for U.S. companies. We filtered the data so it only includes data for selected companies in fiscal year 2018. We saved the filtered data to an Excel file. There is one row per company. Here is a list of the columns and their meanings:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head text-center"><p>Column</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td class="text-center"><p>GVKEY</p></td>
<td><p>Unique Compustat identifier</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>TIC</p></td>
<td><p>Stock ticker symbol</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>FYEAR</p></td>
<td><p>Fiscal year</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>SALE</p></td>
<td><p>Annual revenue for this company. In millions.</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>IB</p></td>
<td><p>Income before extraordinary items. In millions.</p></td>
</tr>
<tr class="row-odd"><td class="text-center"><p>ACC</p></td>
<td><p>Accruals, computed as IB - OANCF. In millions.</p></td>
</tr>
<tr class="row-even"><td class="text-center"><p>OANCF</p></td>
<td><p>Cash flows from operations. In millions.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfCompustat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;data/Compustat.xlsx&#39;</span><span class="p">)</span>
<span class="n">dfCompustat</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>GVKEY</th>
      <th>TIC</th>
      <th>FYEAR</th>
      <th>SALE</th>
      <th>IB</th>
      <th>ACC</th>
      <th>OANCF</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>12825</td>
      <td>JJSF</td>
      <td>2018</td>
      <td>1138.265</td>
      <td>103.596</td>
      <td>-19.771</td>
      <td>123.367</td>
    </tr>
    <tr>
      <th>1</th>
      <td>12096</td>
      <td>DGSE</td>
      <td>2018</td>
      <td>54.056</td>
      <td>0.658</td>
      <td>0.283</td>
      <td>0.375</td>
    </tr>
    <tr>
      <th>2</th>
      <td>12945</td>
      <td>PLXS</td>
      <td>2018</td>
      <td>2873.508</td>
      <td>13.040</td>
      <td>-53.791</td>
      <td>66.831</td>
    </tr>
    <tr>
      <th>3</th>
      <td>16456</td>
      <td>HNGR</td>
      <td>2018</td>
      <td>1048.760</td>
      <td>-0.858</td>
      <td>-79.385</td>
      <td>78.527</td>
    </tr>
    <tr>
      <th>4</th>
      <td>12141</td>
      <td>MSFT</td>
      <td>2018</td>
      <td>110360.000</td>
      <td>16571.000</td>
      <td>-27313.000</td>
      <td>43884.000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
<section id="mean">
<h2>Mean<a class="headerlink" href="#mean" title="Link to this heading">#</a></h2>
<p>You have likely see the term <em>mean</em>, or <em>average</em>, many times before. It’s a seemingly simple concept. You take a bunch of numbers, add them, and divide by the number of numbers. But what does it mean (no pun intended)?</p>
<p>Let’s first plot our salary data and then revisit the question. Run the code cell below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">bokeh.plotting</span> <span class="kn">import</span> <span class="n">figure</span><span class="p">,</span> <span class="n">show</span>
<span class="kn">from</span> <span class="nn">bokeh.io</span> <span class="kn">import</span> <span class="n">output_notebook</span>
<span class="kn">from</span> <span class="nn">bokeh.models</span> <span class="kn">import</span> <span class="n">NumeralTickFormatter</span><span class="p">,</span> <span class="n">Span</span>
<span class="n">output_notebook</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">    <style>
        .bk-notebook-logo {
            display: block;
            width: 20px;
            height: 20px;
            background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAOkSURBVDiNjZRtaJVlGMd/1/08zzln5zjP1LWcU9N0NkN8m2CYjpgQYQXqSs0I84OLIC0hkEKoPtiH3gmKoiJDU7QpLgoLjLIQCpEsNJ1vqUOdO7ppbuec5+V+rj4ctwzd8IIbbi6u+8f1539dt3A78eXC7QizUF7gyV1fD1Yqg4JWz84yffhm0qkFqBogB9rM8tZdtwVsPUhWhGcFJngGeWrPzHm5oaMmkfEg1usvLFyc8jLRqDOMru7AyC8saQr7GG7f5fvDeH7Ej8CM66nIF+8yngt6HWaKh7k49Soy9nXurCi1o3qUbS3zWfrYeQDTB/Qj6kX6Ybhw4B+bOYoLKCC9H3Nu/leUTZ1JdRWkkn2ldcCamzrcf47KKXdAJllSlxAOkRgyHsGC/zRday5Qld9DyoM4/q/rUoy/CXh3jzOu3bHUVZeU+DEn8FInkPBFlu3+nW3Nw0mk6vCDiWg8CeJaxEwuHS3+z5RgY+YBR6V1Z1nxSOfoaPa4LASWxxdNp+VWTk7+4vzaou8v8PN+xo+KY2xsw6une2frhw05CTYOmQvsEhjhWjn0bmXPjpE1+kplmmkP3suftwTubK9Vq22qKmrBhpY4jvd5afdRA3wGjFAgcnTK2s4hY0/GPNIb0nErGMCRxWOOX64Z8RAC4oCXdklmEvcL8o0BfkNK4lUg9HTl+oPlQxdNo3Mg4Nv175e/1LDGzZen30MEjRUtmXSfiTVu1kK8W4txyV6BMKlbgk3lMwYCiusNy9fVfvvwMxv8Ynl6vxoByANLTWplvuj/nF9m2+PDtt1eiHPBr1oIfhCChQMBw6Aw0UulqTKZdfVvfG7VcfIqLG9bcldL/+pdWTLxLUy8Qq38heUIjh4XlzZxzQm19lLFlr8vdQ97rjZVOLf8nclzckbcD4wxXMidpX30sFd37Fv/GtwwhzhxGVAprjbg0gCAEeIgwCZyTV2Z1REEW8O4py0wsjeloKoMr6iCY6dP92H6Vw/oTyICIthibxjm/DfN9lVz8IqtqKYLUXfoKVMVQVVJOElGjrnnUt9T9wbgp8AyYKaGlqingHZU/uG2NTZSVqwHQTWkx9hxjkpWDaCg6Ckj5qebgBVbT3V3NNXMSiWSDdGV3hrtzla7J+duwPOToIg42ChPQOQjspnSlp1V+Gjdged7+8UN5CRAV7a5EdFNwCjEaBR27b3W890TE7g24NAP/mMDXRWrGoFPQI9ls/MWO2dWFAar/xcOIImbbpA3zgAAAABJRU5ErkJggg==);
        }
    </style>
    <div>
        <a href="https://bokeh.org" target="_blank" class="bk-notebook-logo"></a>
        <span id="c4c7ca37-849d-48cc-8dad-fccc69e03026">Loading BokehJS ...</span>
    </div>
</div><script type="application/javascript">'use strict';
(function(root) {
  function now() {
    return new Date();
  }

  const force = true;

  if (typeof root._bokeh_onload_callbacks === "undefined" || force === true) {
    root._bokeh_onload_callbacks = [];
    root._bokeh_is_loading = undefined;
  }

const JS_MIME_TYPE = 'application/javascript';
  const HTML_MIME_TYPE = 'text/html';
  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';
  const CLASS_NAME = 'output_bokeh rendered_html';

  /**
   * Render data to the DOM node
   */
  function render(props, node) {
    const script = document.createElement("script");
    node.appendChild(script);
  }

  /**
   * Handle when an output is cleared or removed
   */
  function handleClearOutput(event, handle) {
    function drop(id) {
      const view = Bokeh.index.get_by_id(id)
      if (view != null) {
        view.model.document.clear()
        Bokeh.index.delete(view)
      }
    }

    const cell = handle.cell;

    const id = cell.output_area._bokeh_element_id;
    const server_id = cell.output_area._bokeh_server_id;

    // Clean up Bokeh references
    if (id != null) {
      drop(id)
    }

    if (server_id !== undefined) {
      // Clean up Bokeh references
      const cmd_clean = "from bokeh.io.state import curstate; print(curstate().uuid_to_server['" + server_id + "'].get_sessions()[0].document.roots[0]._id)";
      cell.notebook.kernel.execute(cmd_clean, {
        iopub: {
          output: function(msg) {
            const id = msg.content.text.trim()
            drop(id)
          }
        }
      });
      // Destroy server and session
      const cmd_destroy = "import bokeh.io.notebook as ion; ion.destroy_server('" + server_id + "')";
      cell.notebook.kernel.execute(cmd_destroy);
    }
  }

  /**
   * Handle when a new output is added
   */
  function handleAddOutput(event, handle) {
    const output_area = handle.output_area;
    const output = handle.output;

    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only
    if ((output.output_type != "display_data") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {
      return
    }

    const toinsert = output_area.element.find("." + CLASS_NAME.split(' ')[0]);

    if (output.metadata[EXEC_MIME_TYPE]["id"] !== undefined) {
      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];
      // store reference to embed id on output_area
      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE]["id"];
    }
    if (output.metadata[EXEC_MIME_TYPE]["server_id"] !== undefined) {
      const bk_div = document.createElement("div");
      bk_div.innerHTML = output.data[HTML_MIME_TYPE];
      const script_attrs = bk_div.children[0].attributes;
      for (let i = 0; i < script_attrs.length; i++) {
        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);
        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent
      }
      // store reference to server id on output_area
      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE]["server_id"];
    }
  }

  function register_renderer(events, OutputArea) {

    function append_mime(data, metadata, element) {
      // create a DOM node to render to
      const toinsert = this.create_output_subarea(
        metadata,
        CLASS_NAME,
        EXEC_MIME_TYPE
      );
      this.keyboard_manager.register_events(toinsert);
      // Render to node
      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};
      render(props, toinsert[toinsert.length - 1]);
      element.append(toinsert);
      return toinsert
    }

    /* Handle when an output is cleared or removed */
    events.on('clear_output.CodeCell', handleClearOutput);
    events.on('delete.Cell', handleClearOutput);

    /* Handle when a new output is added */
    events.on('output_added.OutputArea', handleAddOutput);

    /**
     * Register the mime type and append_mime function with output_area
     */
    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {
      /* Is output safe? */
      safe: true,
      /* Index of renderer in `output_area.display_order` */
      index: 0
    });
  }

  // register the mime type if in Jupyter Notebook environment and previously unregistered
  if (root.Jupyter !== undefined) {
    const events = require('base/js/events');
    const OutputArea = require('notebook/js/outputarea').OutputArea;

    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {
      register_renderer(events, OutputArea);
    }
  }
  if (typeof (root._bokeh_timeout) === "undefined" || force === true) {
    root._bokeh_timeout = Date.now() + 5000;
    root._bokeh_failed_load = false;
  }

  const NB_LOAD_WARNING = {'data': {'text/html':
     "<div style='background-color: #fdd'>\n"+
     "<p>\n"+
     "BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \n"+
     "may be due to a slow or bad network connection. Possible fixes:\n"+
     "</p>\n"+
     "<ul>\n"+
     "<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\n"+
     "<li>use INLINE resources instead, as so:</li>\n"+
     "</ul>\n"+
     "<code>\n"+
     "from bokeh.resources import INLINE\n"+
     "output_notebook(resources=INLINE)\n"+
     "</code>\n"+
     "</div>"}};

  function display_loaded(error = null) {
    const el = document.getElementById("c4c7ca37-849d-48cc-8dad-fccc69e03026");
    if (el != null) {
      const html = (() => {
        if (typeof root.Bokeh === "undefined") {
          if (error == null) {
            return "BokehJS is loading ...";
          } else {
            return "BokehJS failed to load.";
          }
        } else {
          const prefix = `BokehJS ${root.Bokeh.version}`;
          if (error == null) {
            return `${prefix} successfully loaded.`;
          } else {
            return `${prefix} <b>encountered errors</b> while loading and may not function as expected.`;
          }
        }
      })();
      el.innerHTML = html;

      if (error != null) {
        const wrapper = document.createElement("div");
        wrapper.style.overflow = "auto";
        wrapper.style.height = "5em";
        wrapper.style.resize = "vertical";
        const content = document.createElement("div");
        content.style.fontFamily = "monospace";
        content.style.whiteSpace = "pre-wrap";
        content.style.backgroundColor = "rgb(255, 221, 221)";
        content.textContent = error.stack ?? error.toString();
        wrapper.append(content);
        el.append(wrapper);
      }
    } else if (Date.now() < root._bokeh_timeout) {
      setTimeout(() => display_loaded(error), 100);
    }
  }

  function run_callbacks() {
    try {
      root._bokeh_onload_callbacks.forEach(function(callback) {
        if (callback != null)
          callback();
      });
    } finally {
      delete root._bokeh_onload_callbacks
    }
    console.debug("Bokeh: all callbacks have finished");
  }

  function load_libs(css_urls, js_urls, callback) {
    if (css_urls == null) css_urls = [];
    if (js_urls == null) js_urls = [];

    root._bokeh_onload_callbacks.push(callback);
    if (root._bokeh_is_loading > 0) {
      console.debug("Bokeh: BokehJS is being loaded, scheduling callback at", now());
      return null;
    }
    if (js_urls == null || js_urls.length === 0) {
      run_callbacks();
      return null;
    }
    console.debug("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
    root._bokeh_is_loading = css_urls.length + js_urls.length;

    function on_load() {
      root._bokeh_is_loading--;
      if (root._bokeh_is_loading === 0) {
        console.debug("Bokeh: all BokehJS libraries/stylesheets loaded");
        run_callbacks()
      }
    }

    function on_error(url) {
      console.error("failed to load " + url);
    }

    for (let i = 0; i < css_urls.length; i++) {
      const url = css_urls[i];
      const element = document.createElement("link");
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.rel = "stylesheet";
      element.type = "text/css";
      element.href = url;
      console.debug("Bokeh: injecting link tag for BokehJS stylesheet: ", url);
      document.body.appendChild(element);
    }

    for (let i = 0; i < js_urls.length; i++) {
      const url = js_urls[i];
      const element = document.createElement('script');
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.async = false;
      element.src = url;
      console.debug("Bokeh: injecting script tag for BokehJS library: ", url);
      document.head.appendChild(element);
    }
  };

  function inject_raw_css(css) {
    const element = document.createElement("style");
    element.appendChild(document.createTextNode(css));
    document.body.appendChild(element);
  }

  const js_urls = ["https://cdn.bokeh.org/bokeh/release/bokeh-3.4.2.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.4.2.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.4.2.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.4.2.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.4.2.min.js"];
  const css_urls = [];

  const inline_js = [    function(Bokeh) {
      Bokeh.set_log_level("info");
    },
function(Bokeh) {
    }
  ];

  function run_inline_js() {
    if (root.Bokeh !== undefined || force === true) {
      try {
            for (let i = 0; i < inline_js.length; i++) {
      inline_js[i].call(root, root.Bokeh);
    }

      } catch (error) {display_loaded(error);throw error;
      }if (force === true) {
        display_loaded();
      }} else if (Date.now() < root._bokeh_timeout) {
      setTimeout(run_inline_js, 100);
    } else if (!root._bokeh_failed_load) {
      console.log("Bokeh: BokehJS failed to load within specified timeout.");
      root._bokeh_failed_load = true;
    } else if (force !== true) {
      const cell = $(document.getElementById("c4c7ca37-849d-48cc-8dad-fccc69e03026")).parents('.cell').data().cell;
      cell.output_area.append_execute_result(NB_LOAD_WARNING)
    }
  }

  if (root._bokeh_is_loading === 0) {
    console.debug("Bokeh: BokehJS loaded, going straight to plotting");
    run_inline_js();
  } else {
    load_libs(css_urls, js_urls, function() {
      console.debug("Bokeh: BokehJS plotting callback run at", now());
      run_inline_js();
    });
  }
}(window));</script></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Notice we drop the missing values. In this dataset, hourly employees</span>
<span class="c1"># have missing values in the Annual Salary column</span>
<span class="n">hist</span><span class="p">,</span> <span class="n">edges</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">dfSalary</span><span class="p">[</span><span class="s1">&#39;Annual Salary&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">(),</span> <span class="n">bins</span><span class="o">=</span><span class="mi">44</span><span class="p">)</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
           <span class="n">x_axis_label</span><span class="o">=</span><span class="s1">&#39;Salary ($)&#39;</span><span class="p">,</span> <span class="n">y_axis_label</span><span class="o">=</span><span class="s1">&#39;Count&#39;</span><span class="p">,</span>
           <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Histogram of City of Chicago Employee Salaries&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">xaxis</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">formatter</span> <span class="o">=</span> <span class="n">NumeralTickFormatter</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s2">&quot;$0,0&quot;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">quad</span><span class="p">(</span><span class="n">bottom</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="n">hist</span><span class="p">,</span>
       <span class="n">left</span><span class="o">=</span><span class="n">edges</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">right</span><span class="o">=</span><span class="n">edges</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span>
       <span class="n">fill_color</span><span class="o">=</span><span class="s1">&#39;navy&#39;</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="fa99602a-d7d6-402a-aee0-d6e8ad98abe4" data-root-id="p1001" style="display: contents;"></div>
</div><script type="application/javascript">(function(root) {
  function embed_document(root) {
  const docs_json = {"4c66f66b-850a-4738-ab6b-56f41346bee6":{"version":"3.4.2","title":"Bokeh Application","roots":[{"type":"object","name":"Figure","id":"p1001","attributes":{"width":500,"height":400,"x_range":{"type":"object","name":"DataRange1d","id":"p1002"},"y_range":{"type":"object","name":"DataRange1d","id":"p1003"},"x_scale":{"type":"object","name":"LinearScale","id":"p1011"},"y_scale":{"type":"object","name":"LinearScale","id":"p1012"},"title":{"type":"object","name":"Title","id":"p1004","attributes":{"text":"Histogram of City of Chicago Employee Salaries"}},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1041","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1035","attributes":{"selected":{"type":"object","name":"Selection","id":"p1036","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1037"},"data":{"type":"map","entries":[["top",{"type":"ndarray","array":{"type":"bytes","data":"AwAAAAEAAAAIAAAAOAAAAFEAAADbAAAAYQQAAHkDAAA+AgAATAUAAPIHAADpBwAA1QwAAOUOAAC0DwAAIgkAALYEAAAvAwAAcQIAAOgBAADAAAAAoAAAACsAAAByAAAAEAAAAFkAAAAWAAAAFAAAAAQAAAAOAAAAAQAAAAIAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAA="},"shape":[44],"dtype":"int32","order":"little"}],["left",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAABowEBddNFFlz3MQF100UWXCdRAjC666GL02UC66KKLLt/fQHTRRRf95OJAjC666GLa5UCjiy66yM/oQLrooosuxetA0UUXXZS67kB00UUX/dfwQAAAAACwUvJAjC666GLN80AXXXTRFUj1QKOLLrrIwvZALrroons9+EC66KKLLrj5QEYXXXThMvtA0UUXXZSt/EBddNFFRyj+QOiiiy76ov9Auuiii9aOAEEAAAAAMEwBQUYXXXSJCQJBjC666OLGAkHRRRddPIQDQRdddNGVQQRBXXTRRe/+BEGjiy66SLwFQemiiy6ieQZBLrroovs2B0F00UUXVfQHQbrooouusQhBAAAAAAhvCUFGF110YSwKQYsuuui66QpB0UUXXRSnC0EXXXTRbWQMQV100UXHIQ1Bo4suuiDfDUHooosuepwOQS666KLTWQ9Buuiii5YLEEFddNFFQ2oQQQ=="},"shape":[44],"dtype":"float64","order":"little"}],["right",{"type":"ndarray","array":{"type":"bytes","data":"XXTRRZc9zEBddNFFlwnUQIwuuuhi9NlAuuiiiy7f30B00UUX/eTiQIwuuuhi2uVAo4suusjP6EC66KKLLsXrQNFFF12Uuu5AdNFFF/3X8EAAAAAAsFLyQIwuuuhizfNAF1100RVI9UCjiy66yML2QC666KJ7PfhAuuiiiy64+UBGF1104TL7QNFFF12UrfxAXXTRRUco/kDooosu+qL/QLrooovWjgBBAAAAADBMAUFGF110iQkCQYwuuujixgJB0UUXXTyEA0EXXXTRlUEEQV100UXv/gRBo4suuki8BUHpoosuonkGQS666KL7NgdBdNFFF1X0B0G66KKLrrEIQQAAAAAIbwlBRhdddGEsCkGLLrrouukKQdFFF10UpwtBF1100W1kDEFddNFFxyENQaOLLrog3w1B6KKLLnqcDkEuuuii01kPQbrooouWCxBBXXTRRUNqEEEAAAAA8MgQQQ=="},"shape":[44],"dtype":"float64","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1042","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1043"}}},"glyph":{"type":"object","name":"Quad","id":"p1038","attributes":{"left":{"type":"field","field":"left"},"right":{"type":"field","field":"right"},"bottom":{"type":"value","value":0},"top":{"type":"field","field":"top"},"line_color":{"type":"value","value":"white"},"line_alpha":{"type":"value","value":0.5},"fill_color":{"type":"value","value":"navy"},"fill_alpha":{"type":"value","value":0.5},"hatch_alpha":{"type":"value","value":0.5}}},"nonselection_glyph":{"type":"object","name":"Quad","id":"p1039","attributes":{"left":{"type":"field","field":"left"},"right":{"type":"field","field":"right"},"bottom":{"type":"value","value":0},"top":{"type":"field","field":"top"},"line_color":{"type":"value","value":"white"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"navy"},"fill_alpha":{"type":"value","value":0.1},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Quad","id":"p1040","attributes":{"left":{"type":"field","field":"left"},"right":{"type":"field","field":"right"},"bottom":{"type":"value","value":0},"top":{"type":"field","field":"top"},"line_color":{"type":"value","value":"white"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"navy"},"fill_alpha":{"type":"value","value":0.2},"hatch_alpha":{"type":"value","value":0.2}}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1010","attributes":{"tools":[{"type":"object","name":"PanTool","id":"p1023"},{"type":"object","name":"WheelZoomTool","id":"p1024","attributes":{"renderers":"auto"}},{"type":"object","name":"BoxZoomTool","id":"p1025","attributes":{"overlay":{"type":"object","name":"BoxAnnotation","id":"p1026","attributes":{"syncable":false,"level":"overlay","visible":false,"left":{"type":"number","value":"nan"},"right":{"type":"number","value":"nan"},"top":{"type":"number","value":"nan"},"bottom":{"type":"number","value":"nan"},"left_units":"canvas","right_units":"canvas","top_units":"canvas","bottom_units":"canvas","line_color":"black","line_alpha":1.0,"line_width":2,"line_dash":[4,4],"fill_color":"lightgrey","fill_alpha":0.5}}}},{"type":"object","name":"SaveTool","id":"p1031"},{"type":"object","name":"ResetTool","id":"p1032"},{"type":"object","name":"HelpTool","id":"p1033"}]}},"left":[{"type":"object","name":"LinearAxis","id":"p1018","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1019","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1020"},"axis_label":"Count","major_label_policy":{"type":"object","name":"AllLabels","id":"p1021"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1013","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1014","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"NumeralTickFormatter","id":"p1034","attributes":{"format":"$0,0"}},"axis_label":"Salary ($)","major_label_policy":{"type":"object","name":"AllLabels","id":"p1016"}}}],"center":[{"type":"object","name":"Grid","id":"p1017","attributes":{"axis":{"id":"p1013"}}},{"type":"object","name":"Grid","id":"p1022","attributes":{"dimension":1,"axis":{"id":"p1018"}}}]}}]}};
  const render_items = [{"docid":"4c66f66b-850a-4738-ab6b-56f41346bee6","roots":{"p1001":"fa99602a-d7d6-402a-aee0-d6e8ad98abe4"},"root_ids":["p1001"]}];
  void root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script></div>
</div>
<p>Looking at the graph above, we see a “spread” in the salaries. Unsurprisingly, people are paid different amounts. There are many people with similar, and even identical, salaries, but not everybody is paid the same.</p>
<p>A city executive, or the mayor, or a city council member, might wonder if there is a number that is representative of the distribution shown above. Specifically, if we took everybody’s salary, pooled it, and then divided it up evenly among the employees, how much would each person get? That number is called the <em>mean</em> or <em>average</em> of the distribution. The mean is a measure of “centrality”. It represents the center of the distribution. A middle number, if you will.</p>
<p>What would you do with such a number? You might wonder how people’s salaries are changing over time. If you compare the 2019 mean to the 2018 mean to the 2017 mean, you can get a sense for whether the employees’ pay is rising over time. Alternatively, you could compare the average salary of Chicago employees to that of New York employees and Los Angeles employees. That’s very difficult to do with the entire distribution, but is a meaningful comparison when you use the average.</p>
<section id="computing-the-mean-mathematically">
<h3>Computing the Mean Mathematically<a class="headerlink" href="#computing-the-mean-mathematically" title="Link to this heading">#</a></h3>
<p>To compute the mean of a set of <span class="math notranslate nohighlight">\(n\)</span> numbers, you add them up and divide by <span class="math notranslate nohighlight">\(n\)</span>. More formally, say you have numbers <span class="math notranslate nohighlight">\(x_1, x_2, \ldots, x_n\)</span>. The mean, or average, which is written using the greek letter mu, is defined as:</p>
<div class="math notranslate nohighlight">
\[\mu = \frac{\sum_{i=1}^n x_i}{n}\]</div>
</section>
<section id="computing-the-mean-using-pandas">
<h3>Computing the Mean Using Pandas<a class="headerlink" href="#computing-the-mean-using-pandas" title="Link to this heading">#</a></h3>
<p>In Pandas, it’s super easy to compute the mean of a Series (remember that each DataFrame column is a Series). Just use the <code class="docutils literal notranslate"><span class="pre">mean</span></code> method:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfSalary</span><span class="p">[</span><span class="s1">&#39;Annual Salary&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>87845.37224432483
</pre></div>
</div>
</div>
</div>
<p>Finally, let’s plot the mean on our histogram so we can see where it lies on the distribution. In the graph below, the mean is displayed as a dashed, red line.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Notice we drop the missing values. In this dataset, hourly employees</span>
<span class="c1"># have missing values in the Annual Salary column</span>
<span class="n">hist</span><span class="p">,</span> <span class="n">edges</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">dfSalary</span><span class="p">[</span><span class="s1">&#39;Annual Salary&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dropna</span><span class="p">(),</span> <span class="n">bins</span><span class="o">=</span><span class="mi">44</span><span class="p">)</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
           <span class="n">x_axis_label</span><span class="o">=</span><span class="s1">&#39;Salary ($)&#39;</span><span class="p">,</span> <span class="n">y_axis_label</span><span class="o">=</span><span class="s1">&#39;Count&#39;</span><span class="p">,</span>
           <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Histogram of City of Chicago Employee Salaries&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">xaxis</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">formatter</span> <span class="o">=</span> <span class="n">NumeralTickFormatter</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s2">&quot;$0,0&quot;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">quad</span><span class="p">(</span><span class="n">bottom</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="n">hist</span><span class="p">,</span>
       <span class="n">left</span><span class="o">=</span><span class="n">edges</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">right</span><span class="o">=</span><span class="n">edges</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span>
       <span class="n">fill_color</span><span class="o">=</span><span class="s1">&#39;navy&#39;</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="n">meanSalaryLine</span> <span class="o">=</span> <span class="n">Span</span><span class="p">(</span><span class="n">location</span> <span class="o">=</span> <span class="n">dfSalary</span><span class="p">[</span><span class="s1">&#39;Annual Salary&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> 
                      <span class="n">dimension</span><span class="o">=</span><span class="s1">&#39;height&#39;</span><span class="p">,</span>
                      <span class="n">line_color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">line_dash</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">,</span> <span class="n">line_width</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">add_layout</span><span class="p">(</span><span class="n">meanSalaryLine</span><span class="p">)</span>

<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="c199c1d1-628a-40fe-a167-3338027dec53" data-root-id="p1047" style="display: contents;"></div>
</div><script type="application/javascript">(function(root) {
  function embed_document(root) {
  const docs_json = {"1545bff3-9014-4ccf-b7ba-af90fd53e981":{"version":"3.4.2","title":"Bokeh Application","roots":[{"type":"object","name":"Figure","id":"p1047","attributes":{"width":500,"height":400,"x_range":{"type":"object","name":"DataRange1d","id":"p1048"},"y_range":{"type":"object","name":"DataRange1d","id":"p1049"},"x_scale":{"type":"object","name":"LinearScale","id":"p1057"},"y_scale":{"type":"object","name":"LinearScale","id":"p1058"},"title":{"type":"object","name":"Title","id":"p1050","attributes":{"text":"Histogram of City of Chicago Employee Salaries"}},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1087","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1081","attributes":{"selected":{"type":"object","name":"Selection","id":"p1082","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1083"},"data":{"type":"map","entries":[["top",{"type":"ndarray","array":{"type":"bytes","data":"AwAAAAEAAAAIAAAAOAAAAFEAAADbAAAAYQQAAHkDAAA+AgAATAUAAPIHAADpBwAA1QwAAOUOAAC0DwAAIgkAALYEAAAvAwAAcQIAAOgBAADAAAAAoAAAACsAAAByAAAAEAAAAFkAAAAWAAAAFAAAAAQAAAAOAAAAAQAAAAIAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAA="},"shape":[44],"dtype":"int32","order":"little"}],["left",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAABowEBddNFFlz3MQF100UWXCdRAjC666GL02UC66KKLLt/fQHTRRRf95OJAjC666GLa5UCjiy66yM/oQLrooosuxetA0UUXXZS67kB00UUX/dfwQAAAAACwUvJAjC666GLN80AXXXTRFUj1QKOLLrrIwvZALrroons9+EC66KKLLrj5QEYXXXThMvtA0UUXXZSt/EBddNFFRyj+QOiiiy76ov9Auuiii9aOAEEAAAAAMEwBQUYXXXSJCQJBjC666OLGAkHRRRddPIQDQRdddNGVQQRBXXTRRe/+BEGjiy66SLwFQemiiy6ieQZBLrroovs2B0F00UUXVfQHQbrooouusQhBAAAAAAhvCUFGF110YSwKQYsuuui66QpB0UUXXRSnC0EXXXTRbWQMQV100UXHIQ1Bo4suuiDfDUHooosuepwOQS666KLTWQ9Buuiii5YLEEFddNFFQ2oQQQ=="},"shape":[44],"dtype":"float64","order":"little"}],["right",{"type":"ndarray","array":{"type":"bytes","data":"XXTRRZc9zEBddNFFlwnUQIwuuuhi9NlAuuiiiy7f30B00UUX/eTiQIwuuuhi2uVAo4suusjP6EC66KKLLsXrQNFFF12Uuu5AdNFFF/3X8EAAAAAAsFLyQIwuuuhizfNAF1100RVI9UCjiy66yML2QC666KJ7PfhAuuiiiy64+UBGF1104TL7QNFFF12UrfxAXXTRRUco/kDooosu+qL/QLrooovWjgBBAAAAADBMAUFGF110iQkCQYwuuujixgJB0UUXXTyEA0EXXXTRlUEEQV100UXv/gRBo4suuki8BUHpoosuonkGQS666KL7NgdBdNFFF1X0B0G66KKLrrEIQQAAAAAIbwlBRhdddGEsCkGLLrrouukKQdFFF10UpwtBF1100W1kDEFddNFFxyENQaOLLrog3w1B6KKLLnqcDkEuuuii01kPQbrooouWCxBBXXTRRUNqEEEAAAAA8MgQQQ=="},"shape":[44],"dtype":"float64","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1088","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1089"}}},"glyph":{"type":"object","name":"Quad","id":"p1084","attributes":{"left":{"type":"field","field":"left"},"right":{"type":"field","field":"right"},"bottom":{"type":"value","value":0},"top":{"type":"field","field":"top"},"line_color":{"type":"value","value":"white"},"line_alpha":{"type":"value","value":0.5},"fill_color":{"type":"value","value":"navy"},"fill_alpha":{"type":"value","value":0.5},"hatch_alpha":{"type":"value","value":0.5}}},"nonselection_glyph":{"type":"object","name":"Quad","id":"p1085","attributes":{"left":{"type":"field","field":"left"},"right":{"type":"field","field":"right"},"bottom":{"type":"value","value":0},"top":{"type":"field","field":"top"},"line_color":{"type":"value","value":"white"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"navy"},"fill_alpha":{"type":"value","value":0.1},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Quad","id":"p1086","attributes":{"left":{"type":"field","field":"left"},"right":{"type":"field","field":"right"},"bottom":{"type":"value","value":0},"top":{"type":"field","field":"top"},"line_color":{"type":"value","value":"white"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"navy"},"fill_alpha":{"type":"value","value":0.2},"hatch_alpha":{"type":"value","value":0.2}}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1056","attributes":{"tools":[{"type":"object","name":"PanTool","id":"p1069"},{"type":"object","name":"WheelZoomTool","id":"p1070","attributes":{"renderers":"auto"}},{"type":"object","name":"BoxZoomTool","id":"p1071","attributes":{"overlay":{"type":"object","name":"BoxAnnotation","id":"p1072","attributes":{"syncable":false,"level":"overlay","visible":false,"left":{"type":"number","value":"nan"},"right":{"type":"number","value":"nan"},"top":{"type":"number","value":"nan"},"bottom":{"type":"number","value":"nan"},"left_units":"canvas","right_units":"canvas","top_units":"canvas","bottom_units":"canvas","line_color":"black","line_alpha":1.0,"line_width":2,"line_dash":[4,4],"fill_color":"lightgrey","fill_alpha":0.5}}}},{"type":"object","name":"SaveTool","id":"p1077"},{"type":"object","name":"ResetTool","id":"p1078"},{"type":"object","name":"HelpTool","id":"p1079"}]}},"left":[{"type":"object","name":"LinearAxis","id":"p1064","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1065","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1066"},"axis_label":"Count","major_label_policy":{"type":"object","name":"AllLabels","id":"p1067"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1059","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1060","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"NumeralTickFormatter","id":"p1080","attributes":{"format":"$0,0"}},"axis_label":"Salary ($)","major_label_policy":{"type":"object","name":"AllLabels","id":"p1062"}}}],"center":[{"type":"object","name":"Grid","id":"p1063","attributes":{"axis":{"id":"p1059"}}},{"type":"object","name":"Grid","id":"p1068","attributes":{"dimension":1,"axis":{"id":"p1064"}}},{"type":"object","name":"Span","id":"p1090","attributes":{"location":87845.37224432483,"dimension":"height","line_color":"red","line_width":2,"line_dash":[6]}}]}}]}};
  const render_items = [{"docid":"1545bff3-9014-4ccf-b7ba-af90fd53e981","roots":{"p1047":"c199c1d1-628a-40fe-a167-3338027dec53"},"root_ids":["p1047"]}];
  void root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script></div>
</div>
</section>
</section>
<section id="median">
<h2>Median<a class="headerlink" href="#median" title="Link to this heading">#</a></h2>
<p>The mean is probably the most commonly-reported descriptive statistic. However, sometimes using the mean can be problematic. If the distribution of your data is not “symmetric”, or if you have a lot of outliers, the mean can be misleading.</p>
<p>To see this, let’s work with our income data from Compustat. Remember that the IB column contains income before extraordinary items for all U.S. companies in 2018. Let’s plot the histogram of that column. We’ll also plot the mean.</p>
<p>Because the data has such a large spread, we’ll filter the data so it only contains incomes less than \<span class="math notranslate nohighlight">\(5 billion and greater than negative \\\)</span>1 billion.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ib</span> <span class="o">=</span> <span class="n">dfCompustat</span><span class="p">[(</span><span class="n">dfCompustat</span><span class="p">[</span><span class="s1">&#39;IB&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">5000</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">dfCompustat</span><span class="p">[</span><span class="s1">&#39;IB&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1000</span><span class="p">)][</span><span class="s1">&#39;IB&#39;</span><span class="p">]</span>

<span class="c1"># Notice we drop the missing values. In this dataset, hourly employees</span>
<span class="c1"># have missing values in the Annual Salary column</span>
<span class="n">hist</span><span class="p">,</span> <span class="n">edges</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">ib</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">75</span><span class="p">)</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
           <span class="n">x_axis_label</span><span class="o">=</span><span class="s1">&#39;Income before extraordinary items ($ mil.)&#39;</span><span class="p">,</span> <span class="n">y_axis_label</span><span class="o">=</span><span class="s1">&#39;Count&#39;</span><span class="p">,</span>
           <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Histogram of IB&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">xaxis</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">formatter</span> <span class="o">=</span> <span class="n">NumeralTickFormatter</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s2">&quot;$0,0&quot;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">quad</span><span class="p">(</span><span class="n">bottom</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="n">hist</span><span class="p">,</span>
       <span class="n">left</span><span class="o">=</span><span class="n">edges</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">right</span><span class="o">=</span><span class="n">edges</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span>
       <span class="n">fill_color</span><span class="o">=</span><span class="s1">&#39;navy&#39;</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="n">meanIBLine</span> <span class="o">=</span> <span class="n">Span</span><span class="p">(</span><span class="n">location</span> <span class="o">=</span> <span class="n">ib</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> 
                  <span class="n">dimension</span><span class="o">=</span><span class="s1">&#39;height&#39;</span><span class="p">,</span>
                  <span class="n">line_color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">line_dash</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">,</span> <span class="n">line_width</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">add_layout</span><span class="p">(</span><span class="n">meanIBLine</span><span class="p">)</span>

<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="e172555c-1b6e-4f55-93f7-d244fdec85c3" data-root-id="p1094" style="display: contents;"></div>
</div><script type="application/javascript">(function(root) {
  function embed_document(root) {
  const docs_json = {"5a836e1e-d0a0-4761-bb96-62ca74651fe9":{"version":"3.4.2","title":"Bokeh Application","roots":[{"type":"object","name":"Figure","id":"p1094","attributes":{"width":500,"height":400,"x_range":{"type":"object","name":"DataRange1d","id":"p1095"},"y_range":{"type":"object","name":"DataRange1d","id":"p1096"},"x_scale":{"type":"object","name":"LinearScale","id":"p1104"},"y_scale":{"type":"object","name":"LinearScale","id":"p1105"},"title":{"type":"object","name":"Title","id":"p1097","attributes":{"text":"Histogram of IB"}},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1134","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1128","attributes":{"selected":{"type":"object","name":"Selection","id":"p1129","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1130"},"data":{"type":"map","entries":[["top",{"type":"ndarray","array":{"type":"bytes","data":"AQAAAAEAAAADAAAAAwAAAAMAAAAEAAAAAgAAAA0AAAARAAAAHQAAAE8AAADoAAAAdAQAAFYBAACpAAAAZwAAAEgAAAA7AAAALgAAACAAAAAbAAAAEwAAABQAAAAMAAAADAAAABIAAAAKAAAACwAAAAUAAAAHAAAACQAAAAMAAAAHAAAACwAAAAEAAAAEAAAABgAAAAUAAAABAAAABQAAAAQAAAACAAAABQAAAAQAAAACAAAABgAAAAMAAAAEAAAAAAAAAAQAAAABAAAAAAAAAAIAAAADAAAAAgAAAAMAAAAAAAAAAgAAAAAAAAABAAAAAgAAAAAAAAABAAAAAwAAAAIAAAAAAAAAAQAAAAEAAAABAAAAAgAAAAAAAAAAAAAAAAAAAAEAAAABAAAA"},"shape":[75],"dtype":"int32","order":"little"}],["left",{"type":"ndarray","array":{"type":"bytes","data":"fT81XrqAjsDl5cPGzwuMwE2MUi/llonAtjLhl/ohh8Ae2W8AEK2EwIZ//mglOILA3Esao3WGf8CsmDd0oJx6wHzlVEXLsnXATDJyFvbIcMA4/h7PQb5nwLAvs+Iu1VvA8MVQTrRbQMCQ08Qo9fJGQIg27U/PIF9ApAG8BRJkaUACtMAx3ptxQDJno2CzhXZAYhqGj4hve0DJZjTfriyAQGHApXaZoYJA+RkXDoQWhUCRc4ilbouHQCnN+TxZAIpAvyZr1EN1jEBXgNxrLuqOQPjspoGMr5BAxJlfzQHqkUCQRhgZdySTQFzz0GTsXpRAKKCJsGGZlUD0TEL81tOWQMD5+kdMDphAjKazk8FImUBYU2zfNoOaQCQAJSusvZtA8KzddiH4nEC8WZbCljKeQIgGTw4MbZ9AqtkDrcBToEAQMOBS+/CgQHaGvPg1jqFA3NyYnnArokBCM3VEq8iiQKiJUerlZaNADuAtkCADpEB0Ngo2W6CkQNqM5tuVPaVAP+PCgdDapUClOZ8nC3imQAuQe81FFadAceZXc4Cyp0DXPDQZu0+oQD2TEL/17KhAo+nsZDCKqUAJQMkKayeqQG+WpbClxKpA1eyBVuBhq0A7Q178Gv+rQKGZOqJVnKxAB/AWSJA5rUBtRvPtytatQNOcz5MFdK5AOfOrOUARr0CfSYjfeq6vQAJQssLaJbBANXugFXh0sEBopo5oFcOwQJvRfLuyEbFAzvxqDlBgsUABKFlh7a6xQDRTR7SK/bFAZ341ByhMskCaqSNaxZqyQM3UEa1i6bJA"},"shape":[75],"dtype":"float64","order":"little"}],["right",{"type":"ndarray","array":{"type":"bytes","data":"5eXDxs8LjMBNjFIv5ZaJwLYy4Zf6IYfAHtlvABCthMCGf/5oJTiCwNxLGqN1hn/ArJg3dKCcesB85VRFy7J1wEwychb2yHDAOP4ez0G+Z8CwL7PiLtVbwPDFUE60W0DAkNPEKPXyRkCINu1PzyBfQKQBvAUSZGlAArTAMd6bcUAyZ6Ngs4V2QGIaho+Ib3tAyWY0364sgEBhwKV2maGCQPkZFw6EFoVAkXOIpW6Lh0Apzfk8WQCKQL8ma9RDdYxAV4Dcay7qjkD47KaBjK+QQMSZX80B6pFAkEYYGXckk0Bc89Bk7F6UQCigibBhmZVA9ExC/NbTlkDA+fpHTA6YQIyms5PBSJlAWFNs3zaDmkAkACUrrL2bQPCs3XYh+JxAvFmWwpYynkCIBk8ODG2fQKrZA63AU6BAEDDgUvvwoEB2hrz4NY6hQNzcmJ5wK6JAQjN1RKvIokCoiVHq5WWjQA7gLZAgA6RAdDYKNlugpEDajObblT2lQD/jwoHQ2qVApTmfJwt4pkALkHvNRRWnQHHmV3OAsqdA1zw0GbtPqEA9kxC/9eyoQKPp7GQwiqlACUDJCmsnqkBvlqWwpcSqQNXsgVbgYatAO0Ne/Br/q0ChmTqiVZysQAfwFkiQOa1AbUbz7crWrUDTnM+TBXSuQDnzqzlAEa9An0mI33qur0ACULLC2iWwQDV7oBV4dLBAaKaOaBXDsECb0Xy7shGxQM78ag5QYLFAAShZYe2usUA0U0e0iv2xQGd+NQcoTLJAmqkjWsWaskDN1BGtYumyQAAAAAAAOLNA"},"shape":[75],"dtype":"float64","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1135","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1136"}}},"glyph":{"type":"object","name":"Quad","id":"p1131","attributes":{"left":{"type":"field","field":"left"},"right":{"type":"field","field":"right"},"bottom":{"type":"value","value":0},"top":{"type":"field","field":"top"},"line_color":{"type":"value","value":"white"},"line_alpha":{"type":"value","value":0.5},"fill_color":{"type":"value","value":"navy"},"fill_alpha":{"type":"value","value":0.5},"hatch_alpha":{"type":"value","value":0.5}}},"nonselection_glyph":{"type":"object","name":"Quad","id":"p1132","attributes":{"left":{"type":"field","field":"left"},"right":{"type":"field","field":"right"},"bottom":{"type":"value","value":0},"top":{"type":"field","field":"top"},"line_color":{"type":"value","value":"white"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"navy"},"fill_alpha":{"type":"value","value":0.1},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Quad","id":"p1133","attributes":{"left":{"type":"field","field":"left"},"right":{"type":"field","field":"right"},"bottom":{"type":"value","value":0},"top":{"type":"field","field":"top"},"line_color":{"type":"value","value":"white"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"navy"},"fill_alpha":{"type":"value","value":0.2},"hatch_alpha":{"type":"value","value":0.2}}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1103","attributes":{"tools":[{"type":"object","name":"PanTool","id":"p1116"},{"type":"object","name":"WheelZoomTool","id":"p1117","attributes":{"renderers":"auto"}},{"type":"object","name":"BoxZoomTool","id":"p1118","attributes":{"overlay":{"type":"object","name":"BoxAnnotation","id":"p1119","attributes":{"syncable":false,"level":"overlay","visible":false,"left":{"type":"number","value":"nan"},"right":{"type":"number","value":"nan"},"top":{"type":"number","value":"nan"},"bottom":{"type":"number","value":"nan"},"left_units":"canvas","right_units":"canvas","top_units":"canvas","bottom_units":"canvas","line_color":"black","line_alpha":1.0,"line_width":2,"line_dash":[4,4],"fill_color":"lightgrey","fill_alpha":0.5}}}},{"type":"object","name":"SaveTool","id":"p1124"},{"type":"object","name":"ResetTool","id":"p1125"},{"type":"object","name":"HelpTool","id":"p1126"}]}},"left":[{"type":"object","name":"LinearAxis","id":"p1111","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1112","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1113"},"axis_label":"Count","major_label_policy":{"type":"object","name":"AllLabels","id":"p1114"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1106","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1107","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"NumeralTickFormatter","id":"p1127","attributes":{"format":"$0,0"}},"axis_label":"Income before extraordinary items ($ mil.)","major_label_policy":{"type":"object","name":"AllLabels","id":"p1109"}}}],"center":[{"type":"object","name":"Grid","id":"p1110","attributes":{"axis":{"id":"p1106"}}},{"type":"object","name":"Grid","id":"p1115","attributes":{"dimension":1,"axis":{"id":"p1111"}}},{"type":"object","name":"Span","id":"p1137","attributes":{"location":203.05486953184956,"dimension":"height","line_color":"red","line_width":2,"line_dash":[6]}}]}}]}};
  const render_items = [{"docid":"5a836e1e-d0a0-4761-bb96-62ca74651fe9","roots":{"p1094":"e172555c-1b6e-4f55-93f7-d244fdec85c3"},"root_ids":["p1094"]}];
  void root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script></div>
</div>
<p>Look at the histogram above. Does the mean line appear to be in the center of the distribution? Not really. Because the distribution has a long “tail” to the right, the mean line is farther to the right than we would like. If we report the mean of this data, it might be misleading to some. The mean might be considered artificially high since a majority of companies earn less than this amount.</p>
<p>In situations like this, where the distribution has a long tail, people often report the median. The median is literally the middle number. To compute the median, you take all the numbers, sort them, and then choose the middle number (we’re omitting a few details, but that’s the basic idea).</p>
<p>The median statistic is not susceptible to outliers. Importantly, 50% of observations are less than the median, and 50% are greater than the median. It truly is the middle of the data.</p>
<section id="computing-the-median-using-pandas">
<h3>Computing the Median Using Pandas<a class="headerlink" href="#computing-the-median-using-pandas" title="Link to this heading">#</a></h3>
<p>To compute the median of a Series in Pandas, simply use the <code class="docutils literal notranslate"><span class="pre">median</span></code> method.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ib</span><span class="o">.</span><span class="n">median</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>21.896
</pre></div>
</div>
</div>
</div>
<p>Let’s compare the median to the mean for this data:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ib</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>203.05486953184956
</pre></div>
</div>
</div>
</div>
<p>Wow, look at that! The mean is <em>ten times greater</em> than the median for this data!</p>
<p>Let’s plot the median on the same graph as the mean to illustrate the difference. Run the code cell below. The mean is the red dashed line, and the median is the black dashed line.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">ib</span> <span class="o">=</span> <span class="n">dfCompustat</span><span class="p">[(</span><span class="n">dfCompustat</span><span class="p">[</span><span class="s1">&#39;IB&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">5000</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">dfCompustat</span><span class="p">[</span><span class="s1">&#39;IB&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="o">-</span><span class="mi">1000</span><span class="p">)][</span><span class="s1">&#39;IB&#39;</span><span class="p">]</span>

<span class="c1"># Notice we drop the missing values. In this dataset, hourly employees</span>
<span class="c1"># have missing values in the Annual Salary column</span>
<span class="n">hist</span><span class="p">,</span> <span class="n">edges</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span><span class="n">ib</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">75</span><span class="p">)</span>

<span class="n">p</span> <span class="o">=</span> <span class="n">figure</span><span class="p">(</span><span class="n">width</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">400</span><span class="p">,</span>
           <span class="n">x_axis_label</span><span class="o">=</span><span class="s1">&#39;Income before extraordinary items ($ mil.)&#39;</span><span class="p">,</span> <span class="n">y_axis_label</span><span class="o">=</span><span class="s1">&#39;Count&#39;</span><span class="p">,</span>
           <span class="n">title</span><span class="o">=</span><span class="s1">&#39;Histogram of IB&#39;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">xaxis</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">formatter</span> <span class="o">=</span> <span class="n">NumeralTickFormatter</span><span class="p">(</span><span class="nb">format</span><span class="o">=</span><span class="s2">&quot;$0,0&quot;</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">quad</span><span class="p">(</span><span class="n">bottom</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="n">hist</span><span class="p">,</span>
       <span class="n">left</span><span class="o">=</span><span class="n">edges</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">right</span><span class="o">=</span><span class="n">edges</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span>
       <span class="n">fill_color</span><span class="o">=</span><span class="s1">&#39;navy&#39;</span><span class="p">,</span> <span class="n">line_color</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>

<span class="n">meanIBLine</span> <span class="o">=</span> <span class="n">Span</span><span class="p">(</span><span class="n">location</span> <span class="o">=</span> <span class="n">ib</span><span class="o">.</span><span class="n">mean</span><span class="p">(),</span> 
                  <span class="n">dimension</span><span class="o">=</span><span class="s1">&#39;height&#39;</span><span class="p">,</span>
                  <span class="n">line_color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="n">line_dash</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">,</span> <span class="n">line_width</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">add_layout</span><span class="p">(</span><span class="n">meanIBLine</span><span class="p">)</span>

<span class="n">medianIBLine</span> <span class="o">=</span> <span class="n">Span</span><span class="p">(</span><span class="n">location</span> <span class="o">=</span> <span class="n">ib</span><span class="o">.</span><span class="n">median</span><span class="p">(),</span> 
                    <span class="n">dimension</span><span class="o">=</span><span class="s1">&#39;height&#39;</span><span class="p">,</span>
                    <span class="n">line_color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">line_dash</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">,</span> <span class="n">line_width</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">p</span><span class="o">.</span><span class="n">add_layout</span><span class="p">(</span><span class="n">medianIBLine</span><span class="p">)</span>

<span class="n">show</span><span class="p">(</span><span class="n">p</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
  <div id="c70d3b01-4b9e-4e4a-bcf7-a0d9a9088775" data-root-id="p1141" style="display: contents;"></div>
</div><script type="application/javascript">(function(root) {
  function embed_document(root) {
  const docs_json = {"7995a7a2-6556-43fa-b6d6-959cf655be3d":{"version":"3.4.2","title":"Bokeh Application","roots":[{"type":"object","name":"Figure","id":"p1141","attributes":{"width":500,"height":400,"x_range":{"type":"object","name":"DataRange1d","id":"p1142"},"y_range":{"type":"object","name":"DataRange1d","id":"p1143"},"x_scale":{"type":"object","name":"LinearScale","id":"p1151"},"y_scale":{"type":"object","name":"LinearScale","id":"p1152"},"title":{"type":"object","name":"Title","id":"p1144","attributes":{"text":"Histogram of IB"}},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1181","attributes":{"data_source":{"type":"object","name":"ColumnDataSource","id":"p1175","attributes":{"selected":{"type":"object","name":"Selection","id":"p1176","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1177"},"data":{"type":"map","entries":[["top",{"type":"ndarray","array":{"type":"bytes","data":"AQAAAAEAAAADAAAAAwAAAAMAAAAEAAAAAgAAAA0AAAARAAAAHQAAAE8AAADoAAAAdAQAAFYBAACpAAAAZwAAAEgAAAA7AAAALgAAACAAAAAbAAAAEwAAABQAAAAMAAAADAAAABIAAAAKAAAACwAAAAUAAAAHAAAACQAAAAMAAAAHAAAACwAAAAEAAAAEAAAABgAAAAUAAAABAAAABQAAAAQAAAACAAAABQAAAAQAAAACAAAABgAAAAMAAAAEAAAAAAAAAAQAAAABAAAAAAAAAAIAAAADAAAAAgAAAAMAAAAAAAAAAgAAAAAAAAABAAAAAgAAAAAAAAABAAAAAwAAAAIAAAAAAAAAAQAAAAEAAAABAAAAAgAAAAAAAAAAAAAAAAAAAAEAAAABAAAA"},"shape":[75],"dtype":"int32","order":"little"}],["left",{"type":"ndarray","array":{"type":"bytes","data":"fT81XrqAjsDl5cPGzwuMwE2MUi/llonAtjLhl/ohh8Ae2W8AEK2EwIZ//mglOILA3Esao3WGf8CsmDd0oJx6wHzlVEXLsnXATDJyFvbIcMA4/h7PQb5nwLAvs+Iu1VvA8MVQTrRbQMCQ08Qo9fJGQIg27U/PIF9ApAG8BRJkaUACtMAx3ptxQDJno2CzhXZAYhqGj4hve0DJZjTfriyAQGHApXaZoYJA+RkXDoQWhUCRc4ilbouHQCnN+TxZAIpAvyZr1EN1jEBXgNxrLuqOQPjspoGMr5BAxJlfzQHqkUCQRhgZdySTQFzz0GTsXpRAKKCJsGGZlUD0TEL81tOWQMD5+kdMDphAjKazk8FImUBYU2zfNoOaQCQAJSusvZtA8KzddiH4nEC8WZbCljKeQIgGTw4MbZ9AqtkDrcBToEAQMOBS+/CgQHaGvPg1jqFA3NyYnnArokBCM3VEq8iiQKiJUerlZaNADuAtkCADpEB0Ngo2W6CkQNqM5tuVPaVAP+PCgdDapUClOZ8nC3imQAuQe81FFadAceZXc4Cyp0DXPDQZu0+oQD2TEL/17KhAo+nsZDCKqUAJQMkKayeqQG+WpbClxKpA1eyBVuBhq0A7Q178Gv+rQKGZOqJVnKxAB/AWSJA5rUBtRvPtytatQNOcz5MFdK5AOfOrOUARr0CfSYjfeq6vQAJQssLaJbBANXugFXh0sEBopo5oFcOwQJvRfLuyEbFAzvxqDlBgsUABKFlh7a6xQDRTR7SK/bFAZ341ByhMskCaqSNaxZqyQM3UEa1i6bJA"},"shape":[75],"dtype":"float64","order":"little"}],["right",{"type":"ndarray","array":{"type":"bytes","data":"5eXDxs8LjMBNjFIv5ZaJwLYy4Zf6IYfAHtlvABCthMCGf/5oJTiCwNxLGqN1hn/ArJg3dKCcesB85VRFy7J1wEwychb2yHDAOP4ez0G+Z8CwL7PiLtVbwPDFUE60W0DAkNPEKPXyRkCINu1PzyBfQKQBvAUSZGlAArTAMd6bcUAyZ6Ngs4V2QGIaho+Ib3tAyWY0364sgEBhwKV2maGCQPkZFw6EFoVAkXOIpW6Lh0Apzfk8WQCKQL8ma9RDdYxAV4Dcay7qjkD47KaBjK+QQMSZX80B6pFAkEYYGXckk0Bc89Bk7F6UQCigibBhmZVA9ExC/NbTlkDA+fpHTA6YQIyms5PBSJlAWFNs3zaDmkAkACUrrL2bQPCs3XYh+JxAvFmWwpYynkCIBk8ODG2fQKrZA63AU6BAEDDgUvvwoEB2hrz4NY6hQNzcmJ5wK6JAQjN1RKvIokCoiVHq5WWjQA7gLZAgA6RAdDYKNlugpEDajObblT2lQD/jwoHQ2qVApTmfJwt4pkALkHvNRRWnQHHmV3OAsqdA1zw0GbtPqEA9kxC/9eyoQKPp7GQwiqlACUDJCmsnqkBvlqWwpcSqQNXsgVbgYatAO0Ne/Br/q0ChmTqiVZysQAfwFkiQOa1AbUbz7crWrUDTnM+TBXSuQDnzqzlAEa9An0mI33qur0ACULLC2iWwQDV7oBV4dLBAaKaOaBXDsECb0Xy7shGxQM78ag5QYLFAAShZYe2usUA0U0e0iv2xQGd+NQcoTLJAmqkjWsWaskDN1BGtYumyQAAAAAAAOLNA"},"shape":[75],"dtype":"float64","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1182","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1183"}}},"glyph":{"type":"object","name":"Quad","id":"p1178","attributes":{"left":{"type":"field","field":"left"},"right":{"type":"field","field":"right"},"bottom":{"type":"value","value":0},"top":{"type":"field","field":"top"},"line_color":{"type":"value","value":"white"},"line_alpha":{"type":"value","value":0.5},"fill_color":{"type":"value","value":"navy"},"fill_alpha":{"type":"value","value":0.5},"hatch_alpha":{"type":"value","value":0.5}}},"nonselection_glyph":{"type":"object","name":"Quad","id":"p1179","attributes":{"left":{"type":"field","field":"left"},"right":{"type":"field","field":"right"},"bottom":{"type":"value","value":0},"top":{"type":"field","field":"top"},"line_color":{"type":"value","value":"white"},"line_alpha":{"type":"value","value":0.1},"fill_color":{"type":"value","value":"navy"},"fill_alpha":{"type":"value","value":0.1},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"Quad","id":"p1180","attributes":{"left":{"type":"field","field":"left"},"right":{"type":"field","field":"right"},"bottom":{"type":"value","value":0},"top":{"type":"field","field":"top"},"line_color":{"type":"value","value":"white"},"line_alpha":{"type":"value","value":0.2},"fill_color":{"type":"value","value":"navy"},"fill_alpha":{"type":"value","value":0.2},"hatch_alpha":{"type":"value","value":0.2}}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1150","attributes":{"tools":[{"type":"object","name":"PanTool","id":"p1163"},{"type":"object","name":"WheelZoomTool","id":"p1164","attributes":{"renderers":"auto"}},{"type":"object","name":"BoxZoomTool","id":"p1165","attributes":{"overlay":{"type":"object","name":"BoxAnnotation","id":"p1166","attributes":{"syncable":false,"level":"overlay","visible":false,"left":{"type":"number","value":"nan"},"right":{"type":"number","value":"nan"},"top":{"type":"number","value":"nan"},"bottom":{"type":"number","value":"nan"},"left_units":"canvas","right_units":"canvas","top_units":"canvas","bottom_units":"canvas","line_color":"black","line_alpha":1.0,"line_width":2,"line_dash":[4,4],"fill_color":"lightgrey","fill_alpha":0.5}}}},{"type":"object","name":"SaveTool","id":"p1171"},{"type":"object","name":"ResetTool","id":"p1172"},{"type":"object","name":"HelpTool","id":"p1173"}]}},"left":[{"type":"object","name":"LinearAxis","id":"p1158","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1159","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1160"},"axis_label":"Count","major_label_policy":{"type":"object","name":"AllLabels","id":"p1161"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1153","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1154","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"NumeralTickFormatter","id":"p1174","attributes":{"format":"$0,0"}},"axis_label":"Income before extraordinary items ($ mil.)","major_label_policy":{"type":"object","name":"AllLabels","id":"p1156"}}}],"center":[{"type":"object","name":"Grid","id":"p1157","attributes":{"axis":{"id":"p1153"}}},{"type":"object","name":"Grid","id":"p1162","attributes":{"dimension":1,"axis":{"id":"p1158"}}},{"type":"object","name":"Span","id":"p1184","attributes":{"location":203.05486953184956,"dimension":"height","line_color":"red","line_width":2,"line_dash":[6]}},{"type":"object","name":"Span","id":"p1185","attributes":{"location":21.896,"dimension":"height","line_width":2,"line_dash":[6]}}]}}]}};
  const render_items = [{"docid":"7995a7a2-6556-43fa-b6d6-959cf655be3d","roots":{"p1141":"c70d3b01-4b9e-4e4a-bcf7-a0d9a9088775"},"root_ids":["p1141"]}];
  void root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);</script></div>
</div>
<p>Look at that graph! The median is much closer to what we would think of as the center of the distribution.</p>
</section>
</section>
<section id="standard-deviation">
<h2>Standard Deviation<a class="headerlink" href="#standard-deviation" title="Link to this heading">#</a></h2>
<p>When you look at a histogram, you probably notice that the data is spread out. It is often useful to quantify that spread.</p>
<p>Statisticians have developed the variance as a measure of spread in the data. Zero variance means that every number is the same. The greater the variance, the greater the spread in the data. Variance is great, but has one drawback. The units of variance are not easy to work with. For example, if we compute the variance of the City of Chicago salary data, the variance would be measured in dollars squared. That’s annoying. To make it easier to work with, many people take the square root of the variance; this is called the standard deviation.</p>
<section id="computing-the-standard-deviation-mathematically">
<h3>Computing the Standard Deviation Mathematically<a class="headerlink" href="#computing-the-standard-deviation-mathematically" title="Link to this heading">#</a></h3>
<p>To compute the standard deviation of numbers <span class="math notranslate nohighlight">\(x_1, \ldots, x_n\)</span>, use the following formula:</p>
<div class="math notranslate nohighlight">
\[ \sigma = \sqrt{\frac{1}{n} \sum_{i=1}^n (x_i - \mu)^2} \]</div>
<p>In other words, take the difference between each observation and the mean and square that difference. Sum up this squared difference across all observations, divide by <span class="math notranslate nohighlight">\(n\)</span>, and take the square root.</p>
</section>
<section id="computing-the-standard-deviation-using-pandas">
<h3>Computing the Standard Deviation Using Pandas<a class="headerlink" href="#computing-the-standard-deviation-using-pandas" title="Link to this heading">#</a></h3>
<p>Once again, Pandas makes this easy:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfSalary</span><span class="p">[</span><span class="s1">&#39;Annual Salary&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>20827.714107106418
</pre></div>
</div>
</div>
</div>
<p>Let’s quickly interpret this number. The standard deviation of the annual salaries is about \$21,000. We don’t learn too much from the number itself, but we can check the standard deviation over time, or compare to other cities. For example, NYC employees might make more on average, but have a much greater spread in their salaries. That would tell us that there are many NYC employees earning a lot, but also more NYC employees earning less.</p>
</section>
</section>
<section id="correlation">
<h2>Correlation<a class="headerlink" href="#correlation" title="Link to this heading">#</a></h2>
<p>Correlation is a measure of how variables move together. Consider the Compustat data. We would expect that income and cash flow are <em>positively</em> correlated. As a company’s income rises, we would expect its cash flows to rise (if that’s not the case, then I’d be worried about accounting fraud!). Similarly, we would expect accruals and cash flows to be <em>negatively</em> correlated. When a company has a big cash flow, it’s more likely it will have a big accrual. Another interpretation is that accruals predict cash flows. If a company has large accruals today, we should expect the cash to arrive in the future.</p>
<p>The correlation between two variables lies between -1.0 and +1.0. A correlation of +1.0 means that two variables move perfectly together. As one variable increases, the other increases by a fixed amount. A correlation of -1.0 also means that two variables move perfectly together. As one variable increases, the other <em>decreases</em> by a fixed amount. In practice, you will only see perfect correlations when one variable is a linear function of another.</p>
<p>A correlation near 0.0 means that there’s no linear relationship between two variables. You cannot predict the movement in one variable from the other.</p>
<p>Pandas makes it very easy to compute correlations for columns in a DataFrame. Let’s perform the computation and then interpret the results.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfCompustat</span><span class="p">[[</span><span class="s1">&#39;SALE&#39;</span><span class="p">,</span><span class="s1">&#39;IB&#39;</span><span class="p">,</span><span class="s1">&#39;ACC&#39;</span><span class="p">,</span><span class="s1">&#39;OANCF&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SALE</th>
      <th>IB</th>
      <th>ACC</th>
      <th>OANCF</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>SALE</th>
      <td>1.000000</td>
      <td>0.681791</td>
      <td>-0.658824</td>
      <td>0.793711</td>
    </tr>
    <tr>
      <th>IB</th>
      <td>0.681791</td>
      <td>1.000000</td>
      <td>-0.431227</td>
      <td>0.876442</td>
    </tr>
    <tr>
      <th>ACC</th>
      <td>-0.658824</td>
      <td>-0.431227</td>
      <td>1.000000</td>
      <td>-0.812050</td>
    </tr>
    <tr>
      <th>OANCF</th>
      <td>0.793711</td>
      <td>0.876442</td>
      <td>-0.812050</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>First, look at the table above (tables like these are called a <em>correlation matrix</em>; each number in the table is the correlation between two variables). You will see that the diagonal terms are 1.000000. That will <em>always</em> be the case because, by definition, a variable is perfectly correlated with itself. Also notice that the table is symmetric. The correlation between <em>IB</em> and <em>SALE</em> (second row, first column) must exactly equal the correlation between <em>SALE</em> and <em>IB</em> (first row, second column).</p>
<p>Now let’s look at the correlation. Revenue (SALE) and income (IB) are positively correlated (0.68). That is unsurprising. As revenue increases, we would expect income to increase. Similarly, income (IB) and operating cash flows (OANCF) are highly correlated (0.876). Again, this is unsurprising.</p>
<p>Notice that accruals (ACC) are negatively correlated with the other variables. Accruals are computed as IB minus OANCF. It is therefore unsurprising that accruals are negatively correlated with cash flows. It is somewhat less intuitive that accruals are negatively correlated with income.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./Unit 4"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="4-01%20Overview%20of%20Data%20Anaysis.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Overview of Analyzing Data</p>
      </div>
    </a>
    <a class="right-next"
       href="4-03%20Pivot%20Tables%20in%20Pandas.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Pivot Tables in Pandas</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#learning-objectives">Learning Objectives</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview-of-descriptive-statistics">Overview of Descriptive Statistics</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#imports-and-loading-the-data">Imports and Loading the Data</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#city-of-chicago-salary-data">City of Chicago Salary Data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#compustat-data">Compustat Data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mean">Mean</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#computing-the-mean-mathematically">Computing the Mean Mathematically</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#computing-the-mean-using-pandas">Computing the Mean Using Pandas</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#median">Median</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#computing-the-median-using-pandas">Computing the Median Using Pandas</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#standard-deviation">Standard Deviation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#computing-the-standard-deviation-mathematically">Computing the Standard Deviation Mathematically</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#computing-the-standard-deviation-using-pandas">Computing the Standard Deviation Using Pandas</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#correlation">Correlation</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Vic Anand and Kim Mendoza
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>