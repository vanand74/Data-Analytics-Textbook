
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Loading Data Into Pandas &#8212; Data Analytics for Accountants</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'Unit 3/3-07 Loading Data Into Pandas';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Selecting and Filtering Data" href="3-08%20Selecting%20and%20Filtering%20Data.html" />
    <link rel="prev" title="Anatomy of a DataFrame" href="3-06%20Anatomy%20of%20a%20DataFrame.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/Book logo.png" class="logo__image only-light" alt="Data Analytics for Accountants - Home"/>
    <script>document.write(`<img src="../_static/Book logo.png" class="logo__image only-dark" alt="Data Analytics for Accountants - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Introduction and Welcome
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Unit 1: Introduction to Python and Programming</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Unit%201/1-1%20Intro%20to%20Programming.html">Introduction to Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%201/1-2%20Control%20Flow.html">Control Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%201/1-3%20Variables.html">Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%201/1-4%20Data%20Types.html">Data Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%201/1-5%20Operators.html">Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%201/1-6%20The%20Print%20Function.html">The Print Function</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%201/1-7%20Collections.html">Collections: Lists, Dictionaries, and Tuples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%201/1-8%20Functions.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%201/1-9%20Working%20with%20Strings.html">Working with Strings</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Unit 2: Data Visualization</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Unit%202/2-01%20Intro%20to%20Visualization.html">Introduction to Visualizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%202/2-02%20Intro%20to%20Python%27s%20Bokeh%20library.html">Creating Visualizations with Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%202/2-03%20Intro%20to%20Tableau.html">Creating Visualizations with Tableau</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%202/2-04%20Bar%20charts.html">Bar Charts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%202/2-05%20Histograms.html">Histograms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%202/2-06%20Box%20plots.html">Box Plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%202/2-07%20Scatter%20plots.html">Scatter Plots</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%202/2-08%20Line%20charts.html">Line Charts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%202/2-09%20Pie%20charts.html">Pie Charts (yum!)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%202/2-10%20Heat%20maps.html">Heat Maps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%202/2-11%20Location-based%20maps.html">Location-based Maps</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Unit 3: Working with Data</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="3-01%20Overview%20of%20Working%20with%20Data.html">Overview of Working with Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-02%20Working%20with%20files%20and%20folders%20on%20your%20computer.html">Working with Files and Folders on Your Computer</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-03%20CSV%20files.html">CSV Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-04%20Overview%20of%20Pandas.html">Overview of Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-05%20Viewing%20a%20DataFrame.html">Viewing a DataFrame</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-06%20Anatomy%20of%20a%20DataFrame.html">Anatomy of a DataFrame</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Loading Data Into Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-08%20Selecting%20and%20Filtering%20Data.html">Selecting and Filtering Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-09%20Creating%20New%20Columns.html">Creating New Columns</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-10%20Sorting%20Data.html">Sorting Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-11%20Modifying%20Data.html">Modifying Data</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Unit 4: Analyzing Data</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../Unit%204/4-01%20Overview%20of%20Data%20Anaysis.html">Overview of Analyzing Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%204/4-02%20Descriptive%20Statistics.html">Descriptive Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%204/4-03%20Pivot%20Tables%20in%20Pandas.html">Pivot Tables in Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Unit%204/4-04%20Regression.html">Regression</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/vanand74/Data-Analytics-Textbook" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/vanand74/Data-Analytics-Textbook/issues/new?title=Issue%20on%20page%20%2FUnit 3/3-07 Loading Data Into Pandas.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/Unit 3/3-07 Loading Data Into Pandas.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Loading Data Into Pandas</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#learning-objectives">Learning Objectives</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#imports">Imports</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-read-excel-function">The <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> Function</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-read-excel-with-a-simple-excel-workbook-1-sheet-properly-formatted-data">Using <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> with a Simple Excel Workbook (1 sheet, properly formatted data)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-read-excel-with-an-excel-workbook-with-multiple-sheets-of-properly-formatted-data">Using <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> with an Excel Workbook with Multiple Sheets of properly formatted data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-read-excel-when-the-header-row-is-missing">Using <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> When the Header Row is Missing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#skipping-rows-with-read-excel">Skipping rows with <code class="docutils literal notranslate"><span class="pre">read_excel</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-help-with-read-excel">Getting help with <code class="docutils literal notranslate"><span class="pre">read_excel</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-read-csv-function">The <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> Function</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-read-csv-with-a-clean-csv-file">Using <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> with a “clean” CSV file</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-read-csv-when-the-header-row-is-missing">Using <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> When the Header Row is Missing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#skipping-rows-with-read-csv">Skipping rows with <code class="docutils literal notranslate"><span class="pre">read_csv</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#handling-blank-lines-at-the-beginning-of-the-csv-file">Handling blank lines at the beginning of the CSV file</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#handling-non-data-lines-at-the-beginning-of-the-csv-file">Handling non-data lines at the beginning of the CSV file</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#converting-accounting-strings-to-floats">Converting Accounting Strings to Floats</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#parsing-dates">Parsing Dates</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-help-with-read-csv">Getting help with <code class="docutils literal notranslate"><span class="pre">read_csv</span></code></a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="loading-data-into-pandas">
<h1>Loading Data Into Pandas<a class="headerlink" href="#loading-data-into-pandas" title="Link to this heading">#</a></h1>
<section id="learning-objectives">
<h2>Learning Objectives<a class="headerlink" href="#learning-objectives" title="Link to this heading">#</a></h2>
<div style="border: 1px solid black; padding: 10px; background-color: #EDEDED;">
    <ul>
        <li>Use the pd.read_excel function to:</li>
        <ul>
            <li>Create a DataFrame from a simple, properly formatted Excel file with a single sheet.</li>
            <li>Import data from a specific worksheet.</li>
            <li>Import data that is missing a header row.</li>
            <li>Skip rows in an Excel worksheet</li>
        </ul>
        <li>Use the pd.read_csv function to:</li>
        <ul>
            <li>Create a DataFrame from a clean CSV file.</li>
            <li>Import CSV data that lacks a header row.</li>
            <li>Skip rows in a CSV file.</li>
            <li>Predict when numbers in CSV files will be imported as strings.</li>
        </ul>
        <li>Clean a column of strings by removing unwanted characters, including leading and trailing spaces.</li>
        <li>Working with Dates:</li>
        <ul>
            <li>Understand that dates in CSV files will be imported as strings.</li>
            <li>Use the parse_dates argument to tell Pandas to parse dates in specific columns.</li>
            <li>Predict when parse_dates will not perform a desired conversion.</li>
            <li>Use pd.to_datetime to convert a column of dates.</li>
            <li>Be aware of the standard date format strings at <a href="http://strftime.org/">strftime.org</a></li>
        </ul>
    </ul>
</div></section>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Link to this heading">#</a></h2>
<p>In this chapter, you will learn how to load data into a Pandas DataFrame. Remember that loading is the process of reading data from its source format into a software package.</p>
<p>While there are many different source formats for data, we will focus on only two in this chapter, Excel files and CSV files. As an accountant, you are very likely to encounter these. We will not show you how to load data from a database at this time.</p>
</section>
<section id="imports">
<h2>Imports<a class="headerlink" href="#imports" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="the-read-excel-function">
<h2>The <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> Function<a class="headerlink" href="#the-read-excel-function" title="Link to this heading">#</a></h2>
<p>Pandas provides a really nice function called <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> for reading data from an Excel file. This function is very powerful and flexible, but for teaching purposes, we’ll start with a really simple example of its use.</p>
<section id="using-read-excel-with-a-simple-excel-workbook-1-sheet-properly-formatted-data">
<h3>Using <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> with a Simple Excel Workbook (1 sheet, properly formatted data)<a class="headerlink" href="#using-read-excel-with-a-simple-excel-workbook-1-sheet-properly-formatted-data" title="Link to this heading">#</a></h3>
<p>Pandas provides a really nice function called <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> for reading data from an Excel file. This function is very powerful and flexible, but for teaching purposes, we’ll start with a really simple example of its use.</p>
<p>When you downloaded these course notes, you should have also downloaded two subfolders, <em>data</em> and <em>imgs</em>. Inside the <em>data</em> subfolder, there should be an Excel file named <em>Stocks1.xlsx</em>. Open that file in Excel so you can see its contents. For convenience, we include a snapshot of its contents below. Notice that the file contains a single worksheet named <em>Sheet1</em>.</p>
<p><img alt="alt text" src="../_images/stocks1.png" /></p>
<p>To read this Excel sheet into a DataFrame, we will call the function <code class="docutils literal notranslate"><span class="pre">pd.read_excel</span></code>. We will pass a single argument, a path to the file. Notice that, in the code below, I used what’s called a “relative path”. Instead of specifying the full path to the file, I told Python to look in the current folder for a subfolder called <em>data</em>. Within that subfolder, look for a file <em>Stocks1.xlsx</em>. I could have also used the full path, which on my computer is <em>C:\Users\vanand\Box Sync\ACCY 570 Fall 2019\Common\Course notes\Unit 3 - Working with datasets\data\Stocks1.xlsx</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfStocks</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;data/Stocks1.xlsx&#39;</span><span class="p">)</span>
<span class="n">dfStocks</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Company Name</th>
      <th>Ticker</th>
      <th>Closing Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Walmart</td>
      <td>WMT</td>
      <td>119.14</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Target Corporation</td>
      <td>TGT</td>
      <td>112.81</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Best Buy Co.</td>
      <td>BBY</td>
      <td>70.52</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>That’s it! It’s that simple. If we check the type of the variable <code class="docutils literal notranslate"><span class="pre">dfStocks</span></code> by typing <code class="docutils literal notranslate"><span class="pre">type(dfStocks)</span></code>, the output will be <code class="docutils literal notranslate"><span class="pre">pandas.core.frame.DataFrame</span></code>.</p>
<p>Notice that the <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> function assumed that the first row contained column names and automatically used them as column labels in the DataFrame. Also notice that, even though column C of the Excel file contains dollar signs, <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> figured out that we wanted floats and automatically converted the values to float. To see this, run the following code. The code uses some functionality you haven’t learned yet, so don’t worry if you don’t understand why it works.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfStocks</span><span class="p">[</span><span class="s1">&#39;Closing Price&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dtype(&#39;float64&#39;)
</pre></div>
</div>
</div>
</div>
</section>
<section id="using-read-excel-with-an-excel-workbook-with-multiple-sheets-of-properly-formatted-data">
<h3>Using <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> with an Excel Workbook with Multiple Sheets of properly formatted data<a class="headerlink" href="#using-read-excel-with-an-excel-workbook-with-multiple-sheets-of-properly-formatted-data" title="Link to this heading">#</a></h3>
<p>Often your Excel workbooks will have multiple worksheets. By default, <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> will read data from the first worksheet in the workbook. If you want to read a different worksheet, use the optional keyword argument <em>sheet_name</em>. The <em>sheet_name</em> argument accepts the following values:</p>
<ul class="simple">
<li><p>A string containing the name of the worksheet</p></li>
<li><p>A zero-based integer index of the worksheet. 0 means the first worksheet, 1 means the second worksheet, and so on.</p></li>
</ul>
<p>To see the <em>sheet_name</em> argument in action, let’s work with a second Excel file, <em>stocks2.xlsx</em>. This file should be located in the subfolder <em>data</em> that resides in the same folder as this notebook. Open the Excel file in Excel and take a look. Notice there are two worksheets, <em>10-18 Data</em> and <em>10-21 Data</em>. Let’s load only the second worksheet.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Read the second worksheet</span>
<span class="c1"># We could also have used the argument sheet_name=1</span>
<span class="n">dfSheet2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;data/stocks2.xlsx&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;10-21 Data&quot;</span><span class="p">)</span>
<span class="n">dfSheet2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Company Name</th>
      <th>Ticker</th>
      <th>Closing Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Microsoft</td>
      <td>MSFT</td>
      <td>138.43</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Apple</td>
      <td>AAPL</td>
      <td>240.51</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Google</td>
      <td>GOOG</td>
      <td>1246.15</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Oracle</td>
      <td>ORCL</td>
      <td>55.13</td>
    </tr>
    <tr>
      <th>4</th>
      <td>SAP</td>
      <td>SAP</td>
      <td>132.71</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Notice that we passed the argument <code class="docutils literal notranslate"><span class="pre">sheet_name=&quot;10-21</span> <span class="pre">Data&quot;</span></code> to <code class="docutils literal notranslate"><span class="pre">read_excel</span></code>. That told <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> to read the contents of the worksheet named “10-21 Data”. Since that worksheet was the second worksheet in the workbook, we could also have passed the argument <code class="docutils literal notranslate"><span class="pre">sheet_name=1</span></code>.</p>
<p>Also, notice that in Excel, Google’s stock price is shown as “\$1,245.15”. There’s a dollar sign and a comma. However, internally Excel represents that as a float and <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> automatically gets that float.</p>
</section>
<section id="using-read-excel-when-the-header-row-is-missing">
<h3>Using <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> When the Header Row is Missing<a class="headerlink" href="#using-read-excel-when-the-header-row-is-missing" title="Link to this heading">#</a></h3>
<p>Real-world data is often messy. In this section, we’ll show you how to handle a situation where the header row is missing from your data.</p>
<p>Open the file <em>Stocks DIRTY.xlsx</em> in the data subfolder. That workbook has two worksheets. We show you a snapshot of the first worksheet, <em>No header</em>, below.<br />
<img alt="alt text" src="../_images/Stocks_dirty_missing_header.png" /></p>
<p>Let’s see what happens when we try to load this data without telling <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> that the header is missing:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfStocks</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;data/Stocks DIRTY.xlsx&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;No header&quot;</span><span class="p">)</span>
<span class="n">dfStocks</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Walmart</th>
      <th>WMT</th>
      <th>119.14</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Target Corporation</td>
      <td>TGT</td>
      <td>112.81</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Best Buy Co.</td>
      <td>BBY</td>
      <td>70.52</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Ick. That’s not good! It looks like <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> assumed that the first row contained header information. It used the values in the first row as column labels.</p>
<p>Let’s try again. This time, we will use the <em>header</em> keyword argument. If we pass that argument with the Python value <code class="docutils literal notranslate"><span class="pre">None</span></code>, that tells <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> that there’s no header:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfStocks</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;data/Stocks DIRTY.xlsx&#39;</span><span class="p">,</span> 
                         <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;No header&quot;</span><span class="p">,</span> 
                         <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">dfStocks</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Walmart</td>
      <td>WMT</td>
      <td>119.14</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Target Corporation</td>
      <td>TGT</td>
      <td>112.81</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Best Buy Co.</td>
      <td>BBY</td>
      <td>70.52</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Okay, that’s better. Now it put all the data in its proper place. But we still don’t have meaningful column names. We could assign those after the fact, like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dfStocks</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Company Name&#39;</span><span class="p">,</span> <span class="s1">&#39;Ticker&#39;</span><span class="p">,</span> <span class="s1">&#39;Price&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Or… We can use the keyword argument <em>names</em> when we call <code class="docutils literal notranslate"><span class="pre">read_excel</span></code>! Let’s do that.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfStocks</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;data/Stocks DIRTY.xlsx&#39;</span><span class="p">,</span> 
                         <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;No header&quot;</span><span class="p">,</span> 
                         <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                         <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Company Name&#39;</span><span class="p">,</span> <span class="s1">&#39;Ticker&#39;</span><span class="p">,</span> <span class="s1">&#39;Price&#39;</span><span class="p">])</span>
<span class="n">dfStocks</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Company Name</th>
      <th>Ticker</th>
      <th>Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Walmart</td>
      <td>WMT</td>
      <td>119.14</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Target Corporation</td>
      <td>TGT</td>
      <td>112.81</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Best Buy Co.</td>
      <td>BBY</td>
      <td>70.52</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>It’s completely up to you whether, in a situation like this, you want to load the data and then assign column names, or use the <em>names</em> argument. Either works. You could also add a header row to the Excel file.</p>
</section>
<section id="skipping-rows-with-read-excel">
<h3>Skipping rows with <code class="docutils literal notranslate"><span class="pre">read_excel</span></code><a class="headerlink" href="#skipping-rows-with-read-excel" title="Link to this heading">#</a></h3>
<p>Real-world data is often messy. In this section, we’ll show you how to handle a situation where the data does not begin in the first row. This situation is common. Often, the creator of the Excel file will add comments or a description of the above data.</p>
<p>As an example of this, open the file <em>Stocks DIRTY.xlsx</em> in the data subfolder. That workbook has two worksheets. We show you a snapshot of the second worksheet, <em>Skip rows</em>, below.<br />
<img alt="alt text" src="../_images/Stocks_dirty_skip_rows.png" /></p>
<p>Let’s see what happens when we try to load this data without telling <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> that the real data begins in row 4:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfStocks</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;data/Stocks DIRTY.xlsx&#39;</span><span class="p">,</span> <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;Skip rows&quot;</span><span class="p">)</span>
<span class="n">dfStocks</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>This is my data file.</th>
      <th>Unnamed: 1</th>
      <th>Unnamed: 2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Bla bla bla</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Data starts below.</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Company Name</td>
      <td>Ticker</td>
      <td>Closing Price</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Walmart</td>
      <td>WMT</td>
      <td>119.14</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Target Corporation</td>
      <td>TGT</td>
      <td>112.81</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Best Buy Co.</td>
      <td>BBY</td>
      <td>70.52</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Yikes!!! That’s a mess! It figured out that there are 3 columns of data and it used the first row as headings. Since the data appear to have 3 columns, and there was nothing in cells B1 and C1, it had to make up names for the first two columns. Also, since there were no values in cells B2, C2, B3, and D3, it inferred missing values (<code class="docutils literal notranslate"><span class="pre">NaN</span></code> stands for “not a number” and is the symbol for missing data in Pandas).</p>
<p>We could clean this up in Pandas by deleting the first 3 rows and assigning column names manually. But in a case like this, it’s usually better to import the data correctly the first time. You can avoid issues like this by telling <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> to simply skip the first 3 rows. There’s a keyword argument <em>skiprows</em> in <code class="docutils literal notranslate"><span class="pre">read_excel</span></code>. To use this argument, pass <em>skiprows</em> a list. To skip the first 3 rows, the list should be <code class="docutils literal notranslate"><span class="pre">[0,1,2]</span></code>. That tells <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> to skip rows 0, 1, and 2.</p>
<p>Let’s see it in action.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfStocks</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;data/Stocks DIRTY.xlsx&#39;</span><span class="p">,</span> 
                         <span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;Skip rows&quot;</span><span class="p">,</span> 
                         <span class="n">skiprows</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="n">dfStocks</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Company Name</th>
      <th>Ticker</th>
      <th>Closing Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Walmart</td>
      <td>WMT</td>
      <td>119.14</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Target Corporation</td>
      <td>TGT</td>
      <td>112.81</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Best Buy Co.</td>
      <td>BBY</td>
      <td>70.52</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Much better! And surprisingly easy.</p>
</section>
<section id="getting-help-with-read-excel">
<h3>Getting help with <code class="docutils literal notranslate"><span class="pre">read_excel</span></code><a class="headerlink" href="#getting-help-with-read-excel" title="Link to this heading">#</a></h3>
<p>How did we know about the available keyword arguments for <code class="docutils literal notranslate"><span class="pre">read_excel</span></code>? We read the documentation! The official documentation for the Pandas <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> function is <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_excel.html">here</a>. You can also do a Google search for “Pandas read excel” and the first link will be to the same page. Take a look at that page and browse the available arguments. You’ll see that <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> offers a lot of features, especially for dealing with dates, missing data, and Excel error values.</p>
<p>Fun fact: a long time ago, an obnoxious programmer coined the abbreviation RTFM. It stands for <em>“read the f***ing manual.”</em> :) It’s typically used in response to a question whose answer is clearly available in the documentation.</p>
</section>
</section>
<section id="the-read-csv-function">
<h2>The <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> Function<a class="headerlink" href="#the-read-csv-function" title="Link to this heading">#</a></h2>
<p>Pandas provides a really nice function called <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> for reading data from a CSV file. It can also be used to read tab-delimited data, and data from other delimited text files. This function is extremely powerful and flexible, and behaves very similarly to the <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> function.</p>
<section id="using-read-csv-with-a-clean-csv-file">
<h3>Using <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> with a “clean” CSV file<a class="headerlink" href="#using-read-csv-with-a-clean-csv-file" title="Link to this heading">#</a></h3>
<p>When you downloaded these course notes, you should have also downloaded two subfolders, <em>data</em> and <em>imgs</em>. Inside the <em>data</em> subfolder, there should be a CSV file named <em>Stocks1.csv</em>. If you open that file in a text editor, you will see the following data:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Company Name,Ticker,Closing Price
Walmart,WMT, $119.14 
Target Corporation,TGT, $112.81 
Best Buy Co.,BBY, $70.52 
</pre></div>
</div>
<p>To read this data into a DataFrame, we will call the function <code class="docutils literal notranslate"><span class="pre">pd.read_csv</span></code>. We will pass a single argument, a path to the file. Notice that, in the code below, I used what’s called a “relative path”. Instead of specifying the full path to the file, I told Python to look in the current folder for a subfolder called <em>data</em>. Within that subfolder, look for a file <em>Stocks.csv</em>. I could have also used the full path, which on my computer is <em>C:\Users\vanand\Box Sync\ACCY 570 Fall 2019\Common\Course notes\Unit 3 - Working with datasets\data\Stocks.csv</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfStocks</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/Stocks.csv&#39;</span><span class="p">)</span>
<span class="n">dfStocks</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Company Name</th>
      <th>Ticker</th>
      <th>Closing Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Walmart</td>
      <td>WMT</td>
      <td>119.14</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Target Corporation</td>
      <td>TGT</td>
      <td>112.81</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Best Buy Co.</td>
      <td>BBY</td>
      <td>70.52</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Notice that the <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> function assumed that the first row contained column names and automatically used them as column labels in the DataFrame. Also notice that, the data in the third column was automatically converted to float. <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> attempts to infer the type of each column by looking at the values in the first 100 rows. In this case, it found that it could convert every value in the third column to a float, so it did.</p>
<p>To verify that the values are floats, run the following code. Don’t worry if you don’t understand why it works.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfStocks</span><span class="p">[</span><span class="s1">&#39;Closing Price&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dtype</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dtype(&#39;float64&#39;)
</pre></div>
</div>
</div>
</div>
</section>
<section id="using-read-csv-when-the-header-row-is-missing">
<h3>Using <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> When the Header Row is Missing<a class="headerlink" href="#using-read-csv-when-the-header-row-is-missing" title="Link to this heading">#</a></h3>
<p>Real-world data is often messy. In this section, we’ll show you how to handle a situation where the header row is missing from your data.</p>
<p>If you open the file <em>Stocks1 NO HEADER.CSV</em> in the data subfolder, you will see the following contents:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Walmart</span><span class="p">,</span><span class="n">WMT</span><span class="p">,</span><span class="mf">119.14</span>
<span class="n">Target</span> <span class="n">Corporation</span><span class="p">,</span><span class="n">TGT</span><span class="p">,</span><span class="mf">112.81</span>
<span class="n">Best</span> <span class="n">Buy</span> <span class="n">Co</span><span class="o">.</span><span class="p">,</span><span class="n">BBY</span><span class="p">,</span><span class="mf">70.52</span>
</pre></div>
</div>
<p>The data is the same as before, but there’s no header.</p>
<p>Let’s see what happens when we try to load this data without telling <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> that the header is missing:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfStocks</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/Stocks NO HEADER.csv&#39;</span><span class="p">)</span>
<span class="n">dfStocks</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Walmart</th>
      <th>WMT</th>
      <th>119.14</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Target Corporation</td>
      <td>TGT</td>
      <td>112.81</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Best Buy Co.</td>
      <td>BBY</td>
      <td>70.52</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Ick. That’s not good! It looks like <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> assumed that the first row contained header information. It used the values in the first row as column labels.</p>
<p>Let’s try again. This time, we will use the <em>header</em> keyword argument. If we pass that argument with the Python value <code class="docutils literal notranslate"><span class="pre">None</span></code>, that tells <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> that there’s no header:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfStocks</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/Stocks NO HEADER.csv&#39;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">dfStocks</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Walmart</td>
      <td>WMT</td>
      <td>119.14</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Target Corporation</td>
      <td>TGT</td>
      <td>112.81</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Best Buy Co.</td>
      <td>BBY</td>
      <td>70.52</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Okay, that’s better. Now it put all the data in its proper place. But we still don’t have meaningful column names. We could assign those after the fact, like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dfStocks</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Company Name&#39;</span><span class="p">,</span> <span class="s1">&#39;Ticker&#39;</span><span class="p">,</span> <span class="s1">&#39;Price&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>Or… We can use the keyword argument <em>names</em> when we call <code class="docutils literal notranslate"><span class="pre">read_csv</span></code>. Let’s do that.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfStocks</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/Stocks NO HEADER.csv&#39;</span><span class="p">,</span> 
                       <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                       <span class="n">names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Company Name&#39;</span><span class="p">,</span> <span class="s1">&#39;Ticker&#39;</span><span class="p">,</span> <span class="s1">&#39;Price&#39;</span><span class="p">])</span>
<span class="n">dfStocks</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Company Name</th>
      <th>Ticker</th>
      <th>Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Walmart</td>
      <td>WMT</td>
      <td>119.14</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Target Corporation</td>
      <td>TGT</td>
      <td>112.81</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Best Buy Co.</td>
      <td>BBY</td>
      <td>70.52</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>It’s completely up to you whether, in a situation like this, you want to load the data and then assign column names, or use the <em>names</em> argument. Either works. You could also add a header row to the CSV file.</p>
</section>
<section id="skipping-rows-with-read-csv">
<h3>Skipping rows with <code class="docutils literal notranslate"><span class="pre">read_csv</span></code><a class="headerlink" href="#skipping-rows-with-read-csv" title="Link to this heading">#</a></h3>
<p>Real-world data is often messy. In this section, we’ll show you how to handle a situation where the data does not begin in the first row. This situation is common and can manifest itself in two ways:</p>
<ol class="arabic simple">
<li><p>There are blank lines at the beginning of the file</p></li>
<li><p>The creator of the CSV file added comments or a description of the above data.</p></li>
</ol>
<p>Below we show you how to handle these two cases.</p>
<section id="handling-blank-lines-at-the-beginning-of-the-csv-file">
<h4>Handling blank lines at the beginning of the CSV file<a class="headerlink" href="#handling-blank-lines-at-the-beginning-of-the-csv-file" title="Link to this heading">#</a></h4>
<p>Consider the following data, which is also in the file <em>Stocks BLANK LINES.csv</em>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>


<span class="n">Company</span> <span class="n">Name</span><span class="p">,</span><span class="n">Ticker</span><span class="p">,</span><span class="n">Closing</span> <span class="n">Price</span>
<span class="n">Walmart</span><span class="p">,</span><span class="n">WMT</span><span class="p">,</span><span class="mf">119.14</span>
<span class="n">Target</span> <span class="n">Corporation</span><span class="p">,</span><span class="n">TGT</span><span class="p">,</span><span class="mf">112.81</span>
<span class="n">Best</span> <span class="n">Buy</span> <span class="n">Co</span><span class="o">.</span><span class="p">,</span><span class="n">BBY</span><span class="p">,</span><span class="mf">70.52</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">read_csv</span></code> makes it really easy to handle this. Simply set the optional keyword argument <em>skip_blank_lines</em> to True. Actually, you don’t even have to bother since by default this is set to True! But let’s play with it anyways.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfStocks</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/Stocks BLANK LINES.csv&#39;</span><span class="p">,</span> 
                       <span class="n">skip_blank_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">dfStocks</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Company Name</th>
      <th>Ticker</th>
      <th>Closing Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Walmart</td>
      <td>WMT</td>
      <td>119.14</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Target Corporation</td>
      <td>TGT</td>
      <td>112.81</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Best Buy Co.</td>
      <td>BBY</td>
      <td>70.52</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We could also call <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> without explicitly setting <em>skip_blank_lines</em> since its default value is True.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfStocks</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/Stocks BLANK LINES.csv&#39;</span><span class="p">)</span>
<span class="n">dfStocks</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Company Name</th>
      <th>Ticker</th>
      <th>Closing Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Walmart</td>
      <td>WMT</td>
      <td>119.14</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Target Corporation</td>
      <td>TGT</td>
      <td>112.81</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Best Buy Co.</td>
      <td>BBY</td>
      <td>70.52</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="handling-non-data-lines-at-the-beginning-of-the-csv-file">
<h4>Handling non-data lines at the beginning of the CSV file<a class="headerlink" href="#handling-non-data-lines-at-the-beginning-of-the-csv-file" title="Link to this heading">#</a></h4>
<p>Consider the CSV file <em>Stocks UNNEEDED LINES.csv</em>  included with this notebook. Say your data looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Look at me! I&#39;m a description.
Bla bla bla
Don&#39;t put stupid lines like this in your CSV files.

Company Name,Ticker,Closing Price
Walmart,WMT,119.14
Target Corporation,TGT,112.81
Best Buy Co.,BBY,70.52
</pre></div>
</div>
<p>To skip the first lines of that file, use the <em>skiprows</em> argument. Just as with the <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> function, you need to pass <em>skiprows</em> a list of the rows you want to skip. Remember that the line numbers are zero-based.</p>
<p>Here’s the code to skip the first 4 rows in <em>Stocks UNNEEDED LINES.csv</em>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfStocks</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/Stocks UNNEEDED LINES.csv&#39;</span><span class="p">,</span>
                       <span class="n">skiprows</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">dfStocks</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Company Name</th>
      <th>Ticker</th>
      <th>Closing Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Walmart</td>
      <td>WMT</td>
      <td>119.14</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Target Corporation</td>
      <td>TGT</td>
      <td>112.81</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Best Buy Co.</td>
      <td>BBY</td>
      <td>70.52</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
<section id="converting-accounting-strings-to-floats">
<h3>Converting Accounting Strings to Floats<a class="headerlink" href="#converting-accounting-strings-to-floats" title="Link to this heading">#</a></h3>
<p>In an earlier example, you worked with Excel data in accounting format. Excel stores values and number formats separately and that helps functions like <code class="docutils literal notranslate"><span class="pre">read_excel</span></code>; functions that read Excel data are able to read the value and its data type and ignore the formatting if they choose.</p>
<p>CSV is a text format. When a CSV file contains numbers formatted as text in an accounting format, such as \$136.72, it becomes difficult for Python functions to read the true value. You may think this is trivial – it’s just dollar signs, commas, and parentheses, right? But remember that other countries have their own accounting formats and so the number of possible formats is large.</p>
<p>When you try to read a CSV file that contains a number formatted as an accounting string, Python will read that number in as text. You will need to clean it and then manually convert it. In this section, we will walk you through that process.</p>
<p>Consider the file <em>Stocks ACCTG FORMAT.csv</em>. This file is simply the worksheet 10-21 Data from the file <em>Stocks2.xlsx</em> saved as CSV. In other words, we used Excel to save to CSV and this is what we got. Here’s the contents:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Company Name,Ticker,Closing Price
Microsoft,MSFT, $138.43 
Apple,AAPL, $240.51 
Google,GOOG,&quot; $1,246.15 &quot;
Oracle,ORCL, $55.13 
SAP,SAP, $132.71 
</pre></div>
</div>
<p>First, notice that the price for Google, which has a comma in it, is stored in quotes. You can use quotes to enclose values with commas. Also notice that the closing prices have dollar signs and leading spaces. Let’s see what happens when we import this file using <code class="docutils literal notranslate"><span class="pre">read_csv</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfStocks</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/Stocks ACCTG FORMAT.csv&#39;</span><span class="p">)</span>
<span class="n">dfStocks</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Company Name</th>
      <th>Ticker</th>
      <th>Closing Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Microsoft</td>
      <td>MSFT</td>
      <td>$138.43</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Apple</td>
      <td>AAPL</td>
      <td>$240.51</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Google</td>
      <td>GOOG</td>
      <td>$1,246.15</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Oracle</td>
      <td>ORCL</td>
      <td>$55.13</td>
    </tr>
    <tr>
      <th>4</th>
      <td>SAP</td>
      <td>SAP</td>
      <td>$132.71</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>That doesn’t look too bad, right? It actually looks just you might like! So should we just move on to the next section? No problem, right?</p>
<p>Not so fast. Let’s look at that first stock price:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfStocks</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;Closing Price&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39; $138.43 &#39;
</pre></div>
</div>
</div>
</div>
<p>Hmm. That’s not good. It stored the number as a string. And it’s not clean. There are leading <em>and</em> trailing spaces, and there’s that dollar sign. If you check the other values, you’ll find that all of them are strings. That will make it hard to work with them in Python. We need to convert them to numbers.</p>
<p>The process for converting a string to a number in Python is:</p>
<ol class="arabic simple">
<li><p>Remove all characters other than digits, dots, and negative signs. The number MUST be in the format -dddd.ddd, where d is a digit 0-9, and the negative sign and decimal are optional.</p></li>
<li><p>Run the appropriate function to convert a string to a float.</p></li>
</ol>
<p>Following is the code to remove the unwanted characters. Look at the code first and then we’ll explain how it works.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfStocks</span><span class="p">[</span><span class="s1">&#39;Closing Price&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dfStocks</span><span class="p">[</span><span class="s1">&#39;Closing Price&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;$&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">dfStocks</span><span class="p">[</span><span class="s1">&#39;Closing Price&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dfStocks</span><span class="p">[</span><span class="s1">&#39;Closing Price&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">dfStocks</span><span class="p">[</span><span class="s1">&#39;Closing Price&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dfStocks</span><span class="p">[</span><span class="s1">&#39;Closing Price&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>In the above cell, the right-hand-side of first line of code says, <em>“Take the closing price column and call the Pandas string replace function. Replace all dollar signs with nothing.”</em> This creates a new column of data. We assign the new column to the existing column to save it. The second line of code is similar; it replaces any commas with nothing.</p>
<p>The third line of code strips the strings. That means it removes any leading and trailing whitespace characters.</p>
<p>Notice that the methods we used were <code class="docutils literal notranslate"><span class="pre">.str.replace</span></code> and <code class="docutils literal notranslate"><span class="pre">.str.strip</span></code>. These are string methods of the Pandas Series class. The choice of names (replace, strip) and the arguments are identical to Python’s built-in string functions. This is not a coincidence. Where possible, the creators of Pandas tried to follow similar syntax as used in Python’s built-in string functions. For documentation on the Pandas string functions, click <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/user_guide/text.html">here</a>.</p>
<p>Let’s look at our partially cleaned DataFrame:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfStocks</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Company Name</th>
      <th>Ticker</th>
      <th>Closing Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Microsoft</td>
      <td>MSFT</td>
      <td>138.43</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Apple</td>
      <td>AAPL</td>
      <td>240.51</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Google</td>
      <td>GOOG</td>
      <td>1246.15</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Oracle</td>
      <td>ORCL</td>
      <td>55.13</td>
    </tr>
    <tr>
      <th>4</th>
      <td>SAP</td>
      <td>SAP</td>
      <td>132.71</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>And let’s take a look at one of the prices:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfStocks</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;Closing Price&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;1246.15&#39;
</pre></div>
</div>
</div>
</div>
<p>This is better. The numbers are still stored as strings, but at least they are properly formatted. Now, let’s convert them to float.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfStocks</span><span class="p">[</span><span class="s1">&#39;Closing Price&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">dfStocks</span><span class="p">[</span><span class="s1">&#39;Closing Price&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<span class="n">dfStocks</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Company Name</th>
      <th>Ticker</th>
      <th>Closing Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Microsoft</td>
      <td>MSFT</td>
      <td>138.43</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Apple</td>
      <td>AAPL</td>
      <td>240.51</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Google</td>
      <td>GOOG</td>
      <td>1246.15</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Oracle</td>
      <td>ORCL</td>
      <td>55.13</td>
    </tr>
    <tr>
      <th>4</th>
      <td>SAP</td>
      <td>SAP</td>
      <td>132.71</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The above code took the closing price column and converted it to float. The <code class="docutils literal notranslate"><span class="pre">astype</span></code> function returned a whole new column. We assigned this to the existing column and now we’re good. Let’s take a look at one of the closing prices and make sure it’s a float:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">dfStocks</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="s1">&#39;Closing Price&#39;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Apple&#39;s closing price was </span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2"> and the data type is </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Apple&#39;s closing price was 240.51 and the data type is &lt;class &#39;numpy.float64&#39;&gt;.
</pre></div>
</div>
</div>
</div>
</section>
<section id="parsing-dates">
<h3>Parsing Dates<a class="headerlink" href="#parsing-dates" title="Link to this heading">#</a></h3>
<p>Working with dates is a giant pain in the <em>you-know-what</em>. The reason is that there are so many different ways to write and store dates, and there are so many intricacies, such as leap years and daylight savings time. All of that means that you’re probably going to have to deal with dates at some point when you work with data.</p>
<p>Pandas (and Excel) provides a lot of useful functions for working with dates. If you know what you want, it’s usually fairly easy to get it. In this section, we’ll show you that when you import a date from a CSV file, it will be stored as a string. We’ll also show you how to handle different date formats.</p>
<p>Let’s begin by taking a look at the file <em>GM.csv</em> that contains stock data for General Motors Corporation in April 2019. If you open the file in a text editor, here’s what you will see:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Date1</span><span class="p">,</span><span class="n">Date2</span><span class="p">,</span><span class="n">Date3</span><span class="p">,</span><span class="n">Company</span> <span class="n">Name</span><span class="p">,</span><span class="n">Ticker</span><span class="p">,</span><span class="n">Closing</span> <span class="n">Price</span>
<span class="mi">4</span><span class="o">-</span><span class="mi">1</span><span class="o">-</span><span class="mi">2019</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="o">/</span><span class="mi">2019</span><span class="p">,</span><span class="mi">01</span> <span class="n">Apr</span> <span class="mi">19</span><span class="p">,</span><span class="n">General</span> <span class="n">Motors</span><span class="p">,</span><span class="n">GM</span><span class="p">,</span><span class="mf">37.76</span>
<span class="mi">4</span><span class="o">-</span><span class="mi">2</span><span class="o">-</span><span class="mi">2019</span><span class="p">,</span><span class="mi">2</span><span class="o">/</span><span class="mi">4</span><span class="o">/</span><span class="mi">2019</span><span class="p">,</span><span class="mi">02</span> <span class="n">Apr</span> <span class="mi">19</span><span class="p">,</span><span class="n">General</span> <span class="n">Motors</span><span class="p">,</span><span class="n">GM</span><span class="p">,</span><span class="mf">37.81</span>
<span class="mi">4</span><span class="o">-</span><span class="mi">3</span><span class="o">-</span><span class="mi">2019</span><span class="p">,</span><span class="mi">3</span><span class="o">/</span><span class="mi">4</span><span class="o">/</span><span class="mi">2019</span><span class="p">,</span><span class="mi">03</span> <span class="n">Apr</span> <span class="mi">19</span><span class="p">,</span><span class="n">General</span> <span class="n">Motors</span><span class="p">,</span><span class="n">GM</span><span class="p">,</span><span class="mf">38.39</span>
<span class="mi">4</span><span class="o">-</span><span class="mi">4</span><span class="o">-</span><span class="mi">2019</span><span class="p">,</span><span class="mi">4</span><span class="o">/</span><span class="mi">4</span><span class="o">/</span><span class="mi">2019</span><span class="p">,</span><span class="mi">04</span> <span class="n">Apr</span> <span class="mi">19</span><span class="p">,</span><span class="n">General</span> <span class="n">Motors</span><span class="p">,</span><span class="n">GM</span><span class="p">,</span><span class="mf">38.79</span>
<span class="mi">4</span><span class="o">-</span><span class="mi">5</span><span class="o">-</span><span class="mi">2019</span><span class="p">,</span><span class="mi">5</span><span class="o">/</span><span class="mi">4</span><span class="o">/</span><span class="mi">2019</span><span class="p">,</span><span class="mi">05</span> <span class="n">Apr</span> <span class="mi">19</span><span class="p">,</span><span class="n">General</span> <span class="n">Motors</span><span class="p">,</span><span class="n">GM</span><span class="p">,</span><span class="mf">38.94</span>
<span class="mi">4</span><span class="o">-</span><span class="mi">8</span><span class="o">-</span><span class="mi">2019</span><span class="p">,</span><span class="mi">8</span><span class="o">/</span><span class="mi">4</span><span class="o">/</span><span class="mi">2019</span><span class="p">,</span><span class="mi">08</span> <span class="n">Apr</span> <span class="mi">19</span><span class="p">,</span><span class="n">General</span> <span class="n">Motors</span><span class="p">,</span><span class="n">GM</span><span class="p">,</span><span class="mf">39.06</span>
<span class="mi">4</span><span class="o">-</span><span class="mi">9</span><span class="o">-</span><span class="mi">2019</span><span class="p">,</span><span class="mi">9</span><span class="o">/</span><span class="mi">4</span><span class="o">/</span><span class="mi">2019</span><span class="p">,</span><span class="mi">09</span> <span class="n">Apr</span> <span class="mi">19</span><span class="p">,</span><span class="n">General</span> <span class="n">Motors</span><span class="p">,</span><span class="n">GM</span><span class="p">,</span><span class="mf">38.86</span>
<span class="mi">4</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">2019</span><span class="p">,</span><span class="mi">10</span><span class="o">/</span><span class="mi">4</span><span class="o">/</span><span class="mi">2019</span><span class="p">,</span><span class="mi">10</span> <span class="n">Apr</span> <span class="mi">19</span><span class="p">,</span><span class="n">General</span> <span class="n">Motors</span><span class="p">,</span><span class="n">GM</span><span class="p">,</span><span class="mf">39.25</span>
</pre></div>
</div>
<p>Notice that we stored each date in three formats. Let’s see what happens when we import it using <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> without telling it anything about dates:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfGM</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/GM.csv&#39;</span><span class="p">)</span>
<span class="n">dfGM</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date1</th>
      <th>Date2</th>
      <th>Date3</th>
      <th>Company Name</th>
      <th>Ticker</th>
      <th>Closing Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>4-1-2019</td>
      <td>1/4/2019</td>
      <td>01 Apr 19</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>37.76</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4-2-2019</td>
      <td>2/4/2019</td>
      <td>02 Apr 19</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>37.81</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4-3-2019</td>
      <td>3/4/2019</td>
      <td>03 Apr 19</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>38.39</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4-4-2019</td>
      <td>4/4/2019</td>
      <td>04 Apr 19</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>38.79</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4-5-2019</td>
      <td>5/4/2019</td>
      <td>05 Apr 19</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>38.94</td>
    </tr>
    <tr>
      <th>5</th>
      <td>4-8-2019</td>
      <td>8/4/2019</td>
      <td>08 Apr 19</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>39.06</td>
    </tr>
    <tr>
      <th>6</th>
      <td>4-9-2019</td>
      <td>9/4/2019</td>
      <td>09 Apr 19</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>38.86</td>
    </tr>
    <tr>
      <th>7</th>
      <td>4-10-2019</td>
      <td>10/4/2019</td>
      <td>10 Apr 19</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>39.25</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>If you check the types of the date values, you will see they are all stored as strings. That’s not what we want.</p>
<p>You can tell Pandas which columns contain dates and it will try to convert them from strings. It recognizes many date formats and can often get it right. To use this functionality, use the <em>parse_dates</em> keyword argument and pass it a list of columns that contain dates. Let’s see what happens when we use that argument:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfGM</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/GM.csv&#39;</span><span class="p">,</span> <span class="n">parse_dates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Date1&#39;</span><span class="p">,</span> <span class="s1">&#39;Date2&#39;</span><span class="p">,</span> <span class="s1">&#39;Date3&#39;</span><span class="p">])</span>
<span class="n">dfGM</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>C:\Users\vican\AppData\Local\Temp\ipykernel_25732\290965092.py:1: UserWarning: Could not infer format, so each element will be parsed individually, falling back to `dateutil`. To ensure parsing is consistent and as-expected, please specify a format.
  dfGM = pd.read_csv(&#39;data/GM.csv&#39;, parse_dates=[&#39;Date1&#39;, &#39;Date2&#39;, &#39;Date3&#39;])
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date1</th>
      <th>Date2</th>
      <th>Date3</th>
      <th>Company Name</th>
      <th>Ticker</th>
      <th>Closing Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2019-04-01</td>
      <td>2019-01-04</td>
      <td>2019-04-01</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>37.76</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2019-04-02</td>
      <td>2019-02-04</td>
      <td>2019-04-02</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>37.81</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2019-04-03</td>
      <td>2019-03-04</td>
      <td>2019-04-03</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>38.39</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2019-04-04</td>
      <td>2019-04-04</td>
      <td>2019-04-04</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>38.79</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2019-04-05</td>
      <td>2019-05-04</td>
      <td>2019-04-05</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>38.94</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2019-04-08</td>
      <td>2019-08-04</td>
      <td>2019-04-08</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>39.06</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2019-04-09</td>
      <td>2019-09-04</td>
      <td>2019-04-09</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>38.86</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2019-04-10</td>
      <td>2019-10-04</td>
      <td>2019-04-10</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>39.25</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Ignore the warning for a moment and take a look at the data frame. First, notice that the dates in the three columns are formatted differently than in the CSV file. That is how Pandas formats dates by default. We can check whether those values are dates. Let’s perform a spot check:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">dfGM</span><span class="o">.</span><span class="n">at</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;Date2&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>pandas._libs.tslibs.timestamps.Timestamp
</pre></div>
</div>
</div>
</div>
<p>The “Timestamp” class is a Pandas class for storing datetime values. Thus, all the date strings were converted to dates.</p>
<p>But… were they converted correctly? <strong>Take a look at the column <em>Date2</em>. It got the day and month backwards!!!</strong> Oops. In the CSV file, the day and month are reverse in the column <em>Date2</em>. Pandas warned us about that. It said that it was unsure about the date format. It converted the dates from strings, but notified us that it might have been wrong. How can we fix this?</p>
<p>If the day and month are reversed in <em>all</em> columns, you can pass the keyword argument <em>dayfirst</em> and set its value to True. But if you do that, Pandas will assume that for every date, even those in the first and third columns. Here are some other options:</p>
<ol class="arabic simple">
<li><p>Do not tell Pandas to parse the date for <em>Date2</em> and <em>Date3</em>. Then convert those date manually in Pandas.</p></li>
<li><p>Pass a conversion function to Pandas using the <em>converters</em> keyword argument.</p></li>
<li><p>Do not import the <em>Date2</em> and <em>Date3</em> columns. Import those into separate DataFrames and set <em>dayfirst</em> to true. Then merge this second DataFrame with the DataFrame that contains all the other columns.</p></li>
</ol>
<p>None of these options is simple even though all will work. Let’s go with option 1 for now. Run the following code. It will import the entire CSV file but will not parse the dates in the <em>Date2</em> and <em>Date3</em> columns.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Notice that we are not parsing the Date2 column</span>
<span class="n">dfGM</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;data/GM.csv&#39;</span><span class="p">,</span> <span class="n">parse_dates</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Date1&#39;</span><span class="p">],</span> <span class="n">dayfirst</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">dfGM</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date1</th>
      <th>Date2</th>
      <th>Date3</th>
      <th>Company Name</th>
      <th>Ticker</th>
      <th>Closing Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2019-04-01</td>
      <td>1/4/2019</td>
      <td>01 Apr 19</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>37.76</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2019-04-02</td>
      <td>2/4/2019</td>
      <td>02 Apr 19</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>37.81</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2019-04-03</td>
      <td>3/4/2019</td>
      <td>03 Apr 19</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>38.39</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2019-04-04</td>
      <td>4/4/2019</td>
      <td>04 Apr 19</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>38.79</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2019-04-05</td>
      <td>5/4/2019</td>
      <td>05 Apr 19</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>38.94</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2019-04-08</td>
      <td>8/4/2019</td>
      <td>08 Apr 19</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>39.06</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2019-04-09</td>
      <td>9/4/2019</td>
      <td>09 Apr 19</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>38.86</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2019-04-10</td>
      <td>10/4/2019</td>
      <td>10 Apr 19</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>39.25</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>If you check, you will see that the values in the <em>Date2</em> and <em>Date3</em> columns are still strings. Following is the code to convert <em>Date2</em> to a date. We will use the function <code class="docutils literal notranslate"><span class="pre">pd.to_datetime</span></code>. This function allows us to give it a format string that tells it the exact format to use. If you want a reference for the formatting codes, which are used in other programming languages too, see <a class="reference external" href="http://strftime.org/">here</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfGM</span><span class="p">[</span><span class="s1">&#39;Date2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">dfGM</span><span class="p">[</span><span class="s1">&#39;Date2&#39;</span><span class="p">],</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%d</span><span class="s1">/%m/%Y&#39;</span><span class="p">)</span>
<span class="n">dfGM</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date1</th>
      <th>Date2</th>
      <th>Date3</th>
      <th>Company Name</th>
      <th>Ticker</th>
      <th>Closing Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2019-04-01</td>
      <td>2019-04-01</td>
      <td>01 Apr 19</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>37.76</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2019-04-02</td>
      <td>2019-04-02</td>
      <td>02 Apr 19</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>37.81</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2019-04-03</td>
      <td>2019-04-03</td>
      <td>03 Apr 19</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>38.39</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2019-04-04</td>
      <td>2019-04-04</td>
      <td>04 Apr 19</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>38.79</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2019-04-05</td>
      <td>2019-04-05</td>
      <td>05 Apr 19</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>38.94</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2019-04-08</td>
      <td>2019-04-08</td>
      <td>08 Apr 19</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>39.06</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2019-04-09</td>
      <td>2019-04-09</td>
      <td>09 Apr 19</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>38.86</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2019-04-10</td>
      <td>2019-04-10</td>
      <td>10 Apr 19</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>39.25</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>How did that function work? <code class="docutils literal notranslate"><span class="pre">pd.to_datetime</span></code> takes a single value or a column of values and attemps to convert each value to a valid Pandas date. The <em>format</em> argument is optional. However, if you do not give it a format string, it will assume month comes first. You can pass it an explicit format string, and the one we used was <code class="docutils literal notranslate"><span class="pre">'%d/%m/%Y'</span></code>. If you check out the reference we gave you (see <a class="reference external" href="http://strftime.org/">here</a>), you will see that <code class="docutils literal notranslate"><span class="pre">%d</span></code> means a day as expressed by 2 digits, %m means a month as expressed by 2 digits, and %Y means a 4-digit year.</p>
<p>Let’s do that again for the <em>Date3</em> column. Here, we use the format string <code class="docutils literal notranslate"><span class="pre">'%d</span> <span class="pre">%b</span> <span class="pre">%y'</span></code>. This tells Pandas that the two-digit day (<code class="docutils literal notranslate"><span class="pre">'%d'</span></code>) is followed by a space, then the 3-letter month abbreviation (<code class="docutils literal notranslate"><span class="pre">'%b'</span></code>) and a space, then the 2-digit year (<code class="docutils literal notranslate"><span class="pre">'%y'</span></code>).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dfGM</span><span class="p">[</span><span class="s1">&#39;Date3&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">dfGM</span><span class="p">[</span><span class="s1">&#39;Date3&#39;</span><span class="p">],</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%d</span><span class="s1"> %b %y&#39;</span><span class="p">)</span>
<span class="n">dfGM</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Date1</th>
      <th>Date2</th>
      <th>Date3</th>
      <th>Company Name</th>
      <th>Ticker</th>
      <th>Closing Price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2019-04-01</td>
      <td>2019-04-01</td>
      <td>2019-04-01</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>37.76</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2019-04-02</td>
      <td>2019-04-02</td>
      <td>2019-04-02</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>37.81</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2019-04-03</td>
      <td>2019-04-03</td>
      <td>2019-04-03</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>38.39</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2019-04-04</td>
      <td>2019-04-04</td>
      <td>2019-04-04</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>38.79</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2019-04-05</td>
      <td>2019-04-05</td>
      <td>2019-04-05</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>38.94</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2019-04-08</td>
      <td>2019-04-08</td>
      <td>2019-04-08</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>39.06</td>
    </tr>
    <tr>
      <th>6</th>
      <td>2019-04-09</td>
      <td>2019-04-09</td>
      <td>2019-04-09</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>38.86</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2019-04-10</td>
      <td>2019-04-10</td>
      <td>2019-04-10</td>
      <td>General Motors</td>
      <td>GM</td>
      <td>39.25</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
<section id="getting-help-with-read-csv">
<h3>Getting help with <code class="docutils literal notranslate"><span class="pre">read_csv</span></code><a class="headerlink" href="#getting-help-with-read-csv" title="Link to this heading">#</a></h3>
<p>How did we know about the available keyword arguments for <code class="docutils literal notranslate"><span class="pre">read_csv</span></code>? We read the documentation! The official documentation for the Pandas <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> function is <a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html">here</a>. You can also do a Google search for “Pandas read csv” and the first link will be to the same page. Take a look at that page and browse the available arguments. You’ll see that <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> offers a lot of features, especially for dealing with dates, missing data, and Excel error values.</p>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./Unit 3"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="3-06%20Anatomy%20of%20a%20DataFrame.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Anatomy of a DataFrame</p>
      </div>
    </a>
    <a class="right-next"
       href="3-08%20Selecting%20and%20Filtering%20Data.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Selecting and Filtering Data</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#learning-objectives">Learning Objectives</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#overview">Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#imports">Imports</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-read-excel-function">The <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> Function</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-read-excel-with-a-simple-excel-workbook-1-sheet-properly-formatted-data">Using <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> with a Simple Excel Workbook (1 sheet, properly formatted data)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-read-excel-with-an-excel-workbook-with-multiple-sheets-of-properly-formatted-data">Using <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> with an Excel Workbook with Multiple Sheets of properly formatted data</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-read-excel-when-the-header-row-is-missing">Using <code class="docutils literal notranslate"><span class="pre">read_excel</span></code> When the Header Row is Missing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#skipping-rows-with-read-excel">Skipping rows with <code class="docutils literal notranslate"><span class="pre">read_excel</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-help-with-read-excel">Getting help with <code class="docutils literal notranslate"><span class="pre">read_excel</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-read-csv-function">The <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> Function</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-read-csv-with-a-clean-csv-file">Using <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> with a “clean” CSV file</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-read-csv-when-the-header-row-is-missing">Using <code class="docutils literal notranslate"><span class="pre">read_csv</span></code> When the Header Row is Missing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#skipping-rows-with-read-csv">Skipping rows with <code class="docutils literal notranslate"><span class="pre">read_csv</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#handling-blank-lines-at-the-beginning-of-the-csv-file">Handling blank lines at the beginning of the CSV file</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#handling-non-data-lines-at-the-beginning-of-the-csv-file">Handling non-data lines at the beginning of the CSV file</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#converting-accounting-strings-to-floats">Converting Accounting Strings to Floats</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#parsing-dates">Parsing Dates</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-help-with-read-csv">Getting help with <code class="docutils literal notranslate"><span class="pre">read_csv</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Vic Anand and Kim Mendoza
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>